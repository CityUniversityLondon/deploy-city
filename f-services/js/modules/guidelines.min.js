CITY.guidelines=function(){function e(e){return"undefined"==typeof d[e]&&(d[e]=Array.prototype.map.call(document.querySelectorAll(e),function(e){return e.outerHTML}).join("")),d[e]}function t(e,t){return"<!doctype html><html "+t.htmlAttr+"><head>"+t.metaCharset+t.metaViewport+t.stylesheets+t.styles+"</head><body "+t.bodyAttr+">"+e.innerHTML+"</body></html>"}function n(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.join(" ")}function o(e){e=e||document;var t=e.body,n=e.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function i(t){var o=t||{};return o.htmlAttr=n(o.htmlAttr||{}),o.bodyAttr=n(o.bodyAttr||{}),o.sizingTimeout=o.sizingTimeout||1e3,o.styles=o.styles?"<style>"+o.styles+"</style>":"",o.stylesheets=e(o.stylesSelector||"link[rel*=stylesheet], style"),o.metaCharset=o.metaCharset||a,o.metaViewport=o.metaViewport||c,o}function r(e,n){n=i(n);var r=document.createElement("iframe");return r.srcdoc=t(e,n),e.parentNode.replaceChild(r,e),setTimeout(function(){var e=r.contentDocument||r.contentWindow.document;r.height=o(e)},n.sizingTimeout),r}var l=document.querySelector('meta[name="viewport"]'),s=document.querySelector("meta[charset]"),c=l&&l.outerHTML||"",a=s&&s.outerHTML||"",d={},m=$(".menu-toggler"),u=$(".menu-toggler i"),p=$(".navigation"),h=function(){m.click(function(){m.toggleClass("menu-toggler-close"),p.toggleClass("sr-only"),u.toggleClass("icon-reorder").toggleClass("icon-remove-sign")}),$(".guidelines-component").each(function(){var e=$(this),t=e.find(".guidelines-component__presentation__contents"),n=e.find("script.hb-template").html(),o=e.find("script.model-default").html(),i=e.find("script.model-description").html();if(n){var l=JSON.parse(o||"{}"),s=Handlebars.compile(n),c=s(l);t.html(c);var a=e.find(".guidelines-component__code");a.html(""),a.append("<h3>Template</h3>").append($("<pre></pre>").append($("<code></code>").text(n))),i&&a.append("<h3>Data model</h3>").append($("<pre></pre>").append($("<code></code>").text(i))),o&&a.append("<h3>Test data</h3>").append($("<pre></pre>").append($("<code></code>").text(o)))}r(t[0],{styles:"body > * { margin: 0 !important; overflow: hidden; }"})}),$("[class*='guidelines-component__controls__']").click(function(){var e=$(this).closest(".guidelines-component"),t=e.find("iframe");setTimeout(function(){var n=t.contentDocument||t[0].contentWindow.document;t.attr("height",n.body.scrollHeight),window.location.hash="#",window.location.hash="#"+e.attr("id")},1e3)})};return{init:h}}(CITY.debug),CITY.guidelines.init();