CITY.capacityPlans=function(){var e=$(".highcharts#capacityPlans"),t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=(new Date).getMonth(),r=(new Date).getFullYear(),s=r+1,i=[],a=12,o=[],c=[],l=[],p=function(e,t,a){l=[],o=[],c=[],$.each(e,function(e,t){!function(e,t){if(parseInt(t.endyear,10)>r){var a=parseInt(t.enddate,10);a+=12,t.enddate=a}parseInt(t.endyear,10)>=r&&parseInt(t.enddate,10)>=n&&parseInt(t.endyear,10)>=r&&(o.push(t.title),c.push(t.barcolor),parseInt(t.startyear,10)>r?l.push([parseInt(t.startdate-n+12,10),parseInt(t.enddate-n,10)]):parseInt(t.startyear,10)<r?l.push([parseInt(t.startdate-n-12,10),parseInt(t.enddate-n,10)]):l.push([parseInt(t.startdate-n,10),parseInt(t.enddate-n,10)]))}(0,t)}),new Highcharts.Chart({chart:{renderTo:t,type:"columnrange",inverted:!0},title:{text:a+": 12 Month Outlook"},subtitle:{text:r+" - "+s},xAxis:{categories:o,showLastLabel:!0,endOnTick:!0,offset:50},yAxis:{showFirstLabel:!1,allowDecimals:!1,min:-1,max:11,categories:i,title:{text:"Months"},labels:{staggerLines:3,overflow:"justify"}},plotOptions:{series:{colorByPoint:!0,colors:c}},legend:{enabled:!1},series:[{data:l}],tooltip:{enabled:!1}})};!function(){for(var e=0;e<a;e++)11-n<e&&(a-=e,e=0-n),i.push(t[n+e])}(),$.each(e,function(e,t){var a=$(this).attr("title"),n="[";$.each($(t).find("span.highcharts"),function(e,t){n+=$(t).text()}),n+="]",n=jQuery.parseJSON(n),p(n,t,a)})}(CITY.debug);