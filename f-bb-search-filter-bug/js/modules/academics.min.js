CITY.academics=function(){"use strict";var a=$(".contact-toggler"),l=$("#contact"),e=$("#academic-results"),s=$("#publications .panel-content .accordion ol");$(function(){a.on("click",function(e){e.preventDefault(),l.toggleClass("show"),a.toggleClass("show")}),s.expander({slicePoint:2e3,preserveWords:!0,expandPrefix:"",expandEffect:"show",expandSpeed:0,collapseEffect:"hide",collapseSpeed:0,userCollapse:!0}),e.length&&yepnope(["lib/backbone/backbone-build.min.js","modules/profiles-search/academics-backbone.js"])})}(),function(I){I.expander={version:"1.4.5",defaults:{slicePoint:100,preserveWords:!0,widow:4,expandText:"read more",expandPrefix:"&hellip; ",expandAfterSummary:!1,summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",collapseTimer:0,expandEffect:"slideDown",expandSpeed:250,collapseEffect:"slideUp",collapseSpeed:200,userCollapse:!0,userCollapseText:"read less",userCollapsePrefix:" ",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null,afterCollapse:null}},I.fn.expander=function(e){function g(e,a){return e.lastIndexOf("<")>e.lastIndexOf(">")&&(e=e.slice(0,e.lastIndexOf("<"))),a&&(e=e.replace(l,"")),I.trim(e)}function S(e,a){a.stop(!0,!0)[e.collapseEffect](e.collapseSpeed,function(){a.prev("span."+e.moreClass).show().length||a.parent().children("div."+e.summaryClass).show().find("span."+e.moreClass).show(),e.afterCollapse&&e.afterCollapse.call(a)})}var a="init";"string"==typeof e&&(a=e,e={});var E,y=I.extend({},I.expander.defaults,e),w=/^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i,l=y.wordEnd||/(&(?:[^;]+;)?|[a-zA-Z\u00C0-\u0100]+)$/,T=/<\/?(\w+)[^>]*>/g,$=/<(\w+)[^>]*>/g,k=/<\/(\w+)>/g,P=/(<\/[^>]+>)\s*$/,j=/^(<[^>]+>)+.?/;return(e={init:function(){this.each(function(){var e,a,l,s,n,t,i,r,o,d=[],c=[],p={},f=this,u=I(this),m=I([]),h=I.extend({},y,u.data("expander")||I.meta&&u.data()||{});t=!!u.find("."+h.detailClass).length;var x=((i=!!u.find("*").filter(function(){return/^block|table|list/.test(I(this).css("display"))}).length)?"div":"span")+"."+h.detailClass;e=h.moreClass+"",a=h.lessClass+"";var C=h.expandSpeed||0,v=I.trim(u.html());I.trim(u.text());var b=v.slice(0,h.slicePoint);if(h.moreSelector="span."+e.split(" ").join("."),h.lessSelector="span."+a.split(" ").join("."),!I.data(this,"expanderInit")){for(I.data(this,"expanderInit",!0),I.data(this,"expander",h),I.each(["onSlice","beforeExpand","afterExpand","onCollapse","afterCollapse"],function(e,a){p[a]=I.isFunction(h[a])}),a=(b=g(b)).replace(T,"").length;a<h.slicePoint;)"<"==(e=v.charAt(b.length))&&(e=v.slice(b.length).match(j)[0]),b+=e,a++;for(s=(b=g(b,h.preserveWords)).match($)||[],n=b.match(k)||[],l=[],I.each(s,function(e,a){w.test(a)||l.push(a)}),s=l,a=n.length,e=0;e<a;e++)n[e]=n[e].replace(k,"$1");if(I.each(s,function(e,a){var l=a.replace($,"$1"),s=I.inArray(l,n);-1===s?(d.push(a),c.push("</"+l+">")):n.splice(s,1)}),c.reverse(),t)t=u.find(x).remove().html(),v=(b=u.html())+t,e="";else{if(t=v.slice(b.length),""===(e=I.trim(t.replace(T,"")))||e.split(/\s+/).length<h.widow)return;e=c.pop()||"",b+=c.join(""),t=d.join("")+t}h.moreLabel=u.find(h.moreSelector).length?"":function(e){var a='<span class="'+e.moreClass+'">'+e.expandPrefix;return a+='<a href="#">'+e.expandText+"</a></span>"}(h),i&&(t=v),b+=e,h.summary=b,h.details=t,h.lastCloseTag=e,p.onSlice&&(h=(l=h.onSlice.call(f,h))&&l.details?l:h),i=function(e,a){var l="span",s=e.summary;return a?(l="div",P.test(s)&&!e.expandAfterSummary?s=s.replace(P,e.moreLabel+"$1"):s+=e.moreLabel,s='<div class="'+e.summaryClass+'">'+s+"</div>"):s+=e.moreLabel,[s,"<",l+' class="'+e.detailClass+'"',">",e.details,"</"+l+">"].join("")}(h,i),u.html(i),r=u.find(x),o=u.find(h.moreSelector),"slideUp"===h.collapseEffect&&"slideDown"!==h.expandEffect||u.is(":hidden")?r.css({display:"none"}):r[h.collapseEffect](0),m=u.find("div."+h.summaryClass),o.find("a").unbind("click.expander").bind("click.expander",function(e){e.preventDefault(),o.hide(),m.hide(),p.beforeExpand&&h.beforeExpand.call(f),r.stop(!1,!0)[h.expandEffect](C,function(){r.css({zoom:""}),p.afterExpand&&h.afterExpand.call(f),function(e,a,l){e.collapseTimer&&(E=setTimeout(function(){S(e,a),I.isFunction(e.onCollapse)&&e.onCollapse.call(l,!1)},e.collapseTimer))}(h,r,f)})}),h.userCollapse&&!u.find(h.lessSelector).length&&u.find(x).append('<span class="'+h.lessClass+'">'+h.userCollapsePrefix+'<a href="#">'+h.userCollapseText+"</a></span>"),u.find(h.lessSelector+" a").unbind("click.expander").bind("click.expander",function(e){e.preventDefault(),clearTimeout(E),e=I(this).closest(x),S(h,e),p.onCollapse&&h.onCollapse.call(f,!0)})}})},destroy:function(){this.each(function(){var e,a,l=I(this);l.data("expanderInit")&&(e=I.extend({},l.data("expander")||{},y),a=l.find("."+e.detailClass).contents(),l.removeData("expanderInit"),l.removeData("expander"),l.find(e.moreSelector).remove(),l.find("."+e.summaryClass).remove(),l.find("."+e.detailClass).after(a).remove(),l.find(e.lessSelector).remove())})}})[a]&&e[a].call(this),this},I.fn.expander.defaults=I.expander.defaults}(jQuery);