CITY.capacityPlans=function(){var t=$(".highcharts"),e=["January","February","March","April","May","June","July","August","September","October","November","December"],o=(new Date).getMonth(),i=(new Date).getFullYear(),n=i+1,r=[],a=12,h=[],l=[],p=[],c=function(t,e,a){p=[],h=[],l=[],$.each(t,function(t,e){var a,n,r,s;r=(a=e).startDate.split("/"),s=a.endDate.split("/"),a.startmonth=r[0]-1,a.endmonth=s[0]-1,a.startyear=r[1],a.endyear=s[1],parseInt(a.endyear,10)>i&&(n=parseInt(a.endmonth,10),n+=12,a.endmonth=n),parseInt(a.endyear,10)>=i&&parseInt(a.endmonth,10)>=o&&parseInt(a.endyear,10)>=i&&(h.push(a.title),l.push(a.barcolor),parseInt(a.startyear,10)>i?p.push([parseInt(a.startmonth-o+12,10),parseInt(a.endmonth-o,10)]):parseInt(a.startyear,10)<i?p.push([parseInt(a.startmonth-o-12,10),parseInt(a.endmonth-o,10)]):p.push([parseInt(a.startmonth-o,10),parseInt(a.endmonth-o,10)]))}),new Highcharts.Chart({chart:{renderTo:e,type:"columnrange",inverted:!0},title:{text:a+": 12 Month Outlook"},subtitle:{text:i+" - "+n},xAxis:{categories:h,showLastLabel:!0,endOnTick:!0,offset:50},yAxis:{showFirstLabel:!1,allowDecimals:!1,min:-1,max:11,categories:r,title:{text:"Months"},labels:{staggerLines:3,overflow:"justify"}},plotOptions:{series:{colorByPoint:!0,colors:l}},legend:{enabled:!1},series:[{data:p}],tooltip:{enabled:!1}})};t.addClass("loading"),function(){for(var t=0;t<a;t++)11-o<t&&(a-=t,t=0-o),r.push(e[o+t])}(),t.each(function(t,e){var a=$(this),n=a.find(".project"),r=a.data("cul-team-title"),s={};n.each(function(){var t=$(this).data("cul-project"),e=t.title;s[e]=t}),c(s,e,r)})}(CITY.debug);