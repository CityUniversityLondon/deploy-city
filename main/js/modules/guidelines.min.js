CITY.guidelines=function(){var e=document.querySelector('meta[name="viewport"]'),t=document.querySelector("meta[charset]"),o=e&&e.outerHTML||"",i=t&&t.outerHTML||"",r={};function l(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.join(" ")}function s(e){var t,n=e||{};return n.htmlAttr=l(n.htmlAttr||{}),n.bodyAttr=l(n.bodyAttr||{}),n.sizingTimeout=n.sizingTimeout||1e3,n.styles=n.styles?"<style>"+n.styles+"</style>":"",n.stylesheets=(t=n.stylesSelector||"link[rel*=stylesheet], style",void 0===r[t]&&(r[t]=Array.prototype.map.call(document.querySelectorAll(t),function(e){return e.outerHTML}).join("")),r[t]),n.metaCharset=n.metaCharset||i,n.metaViewport=n.metaViewport||o,n}function a(e,t){t=s(t);var n,o,i=document.createElement("iframe");return i.srcdoc=(n=e,"<!doctype html><html "+(o=t).htmlAttr+"><head>"+o.metaCharset+o.metaViewport+o.stylesheets+o.styles+"</head><body "+o.bodyAttr+">"+n.innerHTML+"</body></html>"),e.parentNode.replaceChild(i,e),setTimeout(function(){var e,t,n,o=i.contentDocument||i.contentWindow.document;i.height=(t=(e=(e=o)||document).body,n=e.documentElement,Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight))},t.sizingTimeout),i}var n=$(".menu-toggler"),c=$(".menu-toggler i"),d=$(".navigation");return{init:function(){n.click(function(){n.toggleClass("menu-toggler-close"),d.toggleClass("sr-only"),c.toggleClass("icon-reorder").toggleClass("icon-remove-sign")}),$(".guidelines-component").each(function(){var e=$(this),t=e.find(".guidelines-component__presentation__contents"),n=e.find("script.hb-template").html(),o=e.find("script.model-default").html(),i=e.find("script.model-description").html();if(n){var r=JSON.parse(o||"{}"),l=Handlebars.compile(n)(r);t.html(l);var s=e.find(".guidelines-component__code");s.html(""),s.append("<h3>Template</h3>").append($("<pre></pre>").append($("<code></code>").text(n))),i&&s.append("<h3>Data model</h3>").append($("<pre></pre>").append($("<code></code>").text(i))),o&&s.append("<h3>Test data</h3>").append($("<pre></pre>").append($("<code></code>").text(o)))}a(t[0],{styles:"body > * { margin: 0 !important; overflow: hidden; }"})}),$("[class*='guidelines-component__controls__']").click(function(){var t=$(this).closest(".guidelines-component"),n=t.find("iframe");setTimeout(function(){var e=n.contentDocument||n[0].contentWindow.document;n.attr("height",e.body.scrollHeight),window.location.hash="#",window.location.hash="#"+t.attr("id")},1e3)})}}}(CITY.debug),CITY.guidelines.init();