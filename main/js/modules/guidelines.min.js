CITY.guidelines=function(){var e=document.querySelector('meta[name="viewport"]'),t=document.querySelector("meta[charset]"),n=e&&e.outerHTML||"",o=t&&t.outerHTML||"",i={};function r(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.join(" ")}function l(e){var t=e||{};return t.htmlAttr=r(t.htmlAttr||{}),t.bodyAttr=r(t.bodyAttr||{}),t.sizingTimeout=t.sizingTimeout||1e3,t.styles=t.styles?"<style>"+t.styles+"</style>":"",t.stylesheets=function(e){return void 0===i[e]&&(i[e]=Array.prototype.map.call(document.querySelectorAll(e),function(e){return e.outerHTML}).join("")),i[e]}(t.stylesSelector||"link[rel*=stylesheet], style"),t.metaCharset=t.metaCharset||o,t.metaViewport=t.metaViewport||n,t}function a(e,t){t=l(t);var n=document.createElement("iframe");return n.srcdoc=function(e,t){return"<!doctype html><html "+t.htmlAttr+"><head>"+t.metaCharset+t.metaViewport+t.stylesheets+t.styles+"</head><body "+t.bodyAttr+">"+e.innerHTML+"</body></html>"}(e,t),e.parentNode.replaceChild(n,e),setTimeout(function(){var e=n.contentDocument||n.contentWindow.document;n.height=function(e){var t=(e=e||document).body,n=e.documentElement;return Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}(e)},t.sizingTimeout),n}var s=$(".menu-toggler"),c=$(".menu-toggler i"),d=$(".navigation");return{init:function(){s.click(function(){s.toggleClass("menu-toggler-close"),d.toggleClass("sr-only"),c.toggleClass("icon-reorder").toggleClass("icon-remove-sign")}),$(".guidelines-component").each(function(){var e=$(this),t=e.find(".guidelines-component__presentation__contents"),n=e.find("script.hb-template").html(),o=e.find("script.model-default").html(),i=e.find("script.model-description").html();if(n){var r=JSON.parse(o||"{}"),l=Handlebars.compile(n)(r);t.html(l);var s=e.find(".guidelines-component__code");s.html(""),s.append("<h3>Template</h3>").append($("<pre></pre>").append($("<code></code>").text(n))),i&&s.append("<h3>Data model</h3>").append($("<pre></pre>").append($("<code></code>").text(i))),o&&s.append("<h3>Test data</h3>").append($("<pre></pre>").append($("<code></code>").text(o)))}a(t[0],{styles:"body > * { margin: 0 !important; overflow: hidden; }"})}),$("[class*='guidelines-component__controls__']").click(function(){var t=$(this).closest(".guidelines-component"),n=t.find("iframe");setTimeout(function(){var e=n.contentDocument||n[0].contentWindow.document;n.attr("height",e.body.scrollHeight),window.location.hash="#",window.location.hash="#"+t.attr("id")},1e3)})}}}(CITY.debug),CITY.guidelines.init();