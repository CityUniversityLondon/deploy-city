CITY.capacityPlans=function(){var e,t=$(".highcharts#capacityPlans"),a=["January","February","March","April","May","June","July","August","September","October","November","December"],n=(new Date).getMonth(),r=(new Date).getFullYear(),s=r+1,i=[],o=12,c=[],l=[],p=[],d=function(){for(var e=0;e<o;e++)e>11-n&&(o-=e,e=0-n),i.push(a[n+e])},h=function(e,t){if(parseInt(t.endyear,10)>r){var a=parseInt(t.enddate,10);a+=12,t.enddate=a}parseInt(t.endyear,10)>=r&&parseInt(t.enddate,10)>=n&&parseInt(t.endyear,10)>=r&&(c.push(t.title),l.push(t.barcolor),parseInt(t.startyear,10)>r?p.push([parseInt(t.startdate-n+12,10),parseInt(t.enddate-n,10)]):parseInt(t.startyear,10)<r?p.push([parseInt(t.startdate-n-12,10),parseInt(t.enddate-n,10)]):p.push([parseInt(t.startdate-n,10),parseInt(t.enddate-n,10)]))},u=function(t,a,n){p=[],c=[],l=[],$.each(t,function(e,t){h(e,t)}),e=new Highcharts.Chart({chart:{renderTo:a,type:"columnrange",inverted:!0},title:{text:n+": 12 Month Outlook"},subtitle:{text:r+" - "+s},xAxis:{categories:c,showLastLabel:!0,endOnTick:!0,offset:50},yAxis:{showFirstLabel:!1,allowDecimals:!1,min:-1,max:11,categories:i,title:{text:"Months"},labels:{staggerLines:3,overflow:"justify"}},plotOptions:{series:{colorByPoint:!0,colors:l}},legend:{enabled:!1},series:[{data:p}],tooltip:{enabled:!1}})};d(),$.each(t,function(e,t){var a=$(this).attr("title"),n="[";$.each($(t).find("span.highcharts"),function(e,t){n+=$(t).text()}),n+="]",n=jQuery.parseJSON(n),u(n,t,a)})}(CITY.debug);