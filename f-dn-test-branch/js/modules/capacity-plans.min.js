CITY.capacityPlans=function(){var t=$(".highcharts"),e=["January","February","March","April","May","June","July","August","September","October","November","December"],s=(new Date).getMonth(),o=(new Date).getFullYear(),n=o+1,r=[],a=12,i=[],h=[],l=[],c=function(t,e,a){l=[],i=[],h=[],$.each(t,function(t,e){!function(t,e){var a,n=e.startDate.split("/"),r=e.endDate.split("/");e.startmonth=n[0]-1,e.endmonth=r[0]-1,e.startyear=n[1],e.endyear=r[1],parseInt(e.endyear,10)>o&&(a=parseInt(e.endmonth,10),a+=12,e.endmonth=a),parseInt(e.endyear,10)>=o&&parseInt(e.endmonth,10)>=s&&parseInt(e.endyear,10)>=o&&(i.push(e.title),h.push(e.barcolor),parseInt(e.startyear,10)>o?l.push([parseInt(e.startmonth-s+12,10),parseInt(e.endmonth-s,10)]):parseInt(e.startyear,10)<o?l.push([parseInt(e.startmonth-s-12,10),parseInt(e.endmonth-s,10)]):l.push([parseInt(e.startmonth-s,10),parseInt(e.endmonth-s,10)]))}(0,e)}),new Highcharts.Chart({chart:{renderTo:e,type:"columnrange",inverted:!0},title:{text:a+": 12 Month Outlook"},subtitle:{text:o+" - "+n},xAxis:{categories:i,showLastLabel:!0,endOnTick:!0,offset:50},yAxis:{showFirstLabel:!1,allowDecimals:!1,min:-1,max:11,categories:r,title:{text:"Months"},labels:{staggerLines:3,overflow:"justify"}},plotOptions:{series:{colorByPoint:!0,colors:h}},legend:{enabled:!1},series:[{data:l}],tooltip:{enabled:!1}})};t.addClass("loading"),function(){for(var t=0;t<a;t++)11-s<t&&(a-=t,t=0-s),r.push(e[s+t])}(),t.each(function(t,e){var a=$(this),n=a.find(".project"),r=a.data("cul-team-title"),s={};n.each(function(){var t=$(this).data("cul-project"),e=t.title;s[e]=t}),c(s,e,r)})}(CITY.debug);