CITY.academics=function(){"use strict";var e=$(".contact-toggler"),a=$("#contact"),l=$("#academic-results"),s=$("#publications .panel-content .accordion ol");$(function(){e.on("click",function(l){l.preventDefault(),a.toggleClass("show"),e.toggleClass("show")}),s.expander({slicePoint:2e3,preserveWords:!0,expandPrefix:"",expandEffect:"show",expandSpeed:0,collapseEffect:"hide",collapseSpeed:0,userCollapse:!0}),l.length&&yepnope(["lib/backbone/backbone-build.min.js","modules/profiles-search/academics-backbone.js"])})}(),function(e){e.expander={version:"1.4.5",defaults:{slicePoint:100,preserveWords:!0,widow:4,expandText:"read more",expandPrefix:"&hellip; ",expandAfterSummary:!1,summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",collapseTimer:0,expandEffect:"slideDown",expandSpeed:250,collapseEffect:"slideUp",collapseSpeed:200,userCollapse:!0,userCollapseText:"read less",userCollapsePrefix:" ",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null,afterCollapse:null}},e.fn.expander=function(a){function l(e,a){var l="span",s=e.summary;return a?(l="div",h.test(s)&&!e.expandAfterSummary?s=s.replace(h,e.moreLabel+"$1"):s+=e.moreLabel,s='<div class="'+e.summaryClass+'">'+s+"</div>"):s+=e.moreLabel,[s,"<",l+' class="'+e.detailClass+'"',">",e.details,"</"+l+">"].join("")}function s(e){var a='<span class="'+e.moreClass+'">'+e.expandPrefix;return a+='<a href="#">'+e.expandText+"</a></span>"}function n(a,l){return a.lastIndexOf("<")>a.lastIndexOf(">")&&(a=a.slice(0,a.lastIndexOf("<"))),l&&(a=a.replace(p,"")),e.trim(a)}function t(e,a){a.stop(!0,!0)[e.collapseEffect](e.collapseSpeed,function(){a.prev("span."+e.moreClass).show().length||a.parent().children("div."+e.summaryClass).show().find("span."+e.moreClass).show(),e.afterCollapse&&e.afterCollapse.call(a)})}function i(a,l,s){a.collapseTimer&&(o=setTimeout(function(){t(a,l),e.isFunction(a.onCollapse)&&a.onCollapse.call(s,!1)},a.collapseTimer))}var r="init";"string"==typeof a&&(r=a,a={});var o,d=e.extend({},e.expander.defaults,a),c=/^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i,p=d.wordEnd||/(&(?:[^;]+;)?|[a-zA-Z\u00C0-\u0100]+)$/,f=/<\/?(\w+)[^>]*>/g,u=/<(\w+)[^>]*>/g,m=/<\/(\w+)>/g,h=/(<\/[^>]+>)\s*$/,x=/^(<[^>]+>)+.?/;return a={init:function(){this.each(function(){var a,r,p,h,C,v,b,g,S,E=[],y=[],w={},T=this,$=e(this),k=e([]),P=e.extend({},d,$.data("expander")||e.meta&&$.data()||{});v=!!$.find("."+P.detailClass).length,b=!!$.find("*").filter(function(){return/^block|table|list/.test(e(this).css("display"))}).length;var j=(b?"div":"span")+"."+P.detailClass;a=P.moreClass+"",r=P.lessClass+"";var I=P.expandSpeed||0,D=e.trim($.html());e.trim($.text());var A=D.slice(0,P.slicePoint);if(P.moreSelector="span."+a.split(" ").join("."),P.lessSelector="span."+r.split(" ").join("."),!e.data(this,"expanderInit")){for(e.data(this,"expanderInit",!0),e.data(this,"expander",P),e.each(["onSlice","beforeExpand","afterExpand","onCollapse","afterCollapse"],function(a,l){w[l]=e.isFunction(P[l])}),A=n(A),r=A.replace(f,"").length;r<P.slicePoint;)a=D.charAt(A.length),"<"==a&&(a=D.slice(A.length).match(x)[0]),A+=a,r++;for(A=n(A,P.preserveWords),h=A.match(u)||[],C=A.match(m)||[],p=[],e.each(h,function(e,a){c.test(a)||p.push(a)}),h=p,r=C.length,a=0;a<r;a++)C[a]=C[a].replace(m,"$1");if(e.each(h,function(a,l){var s=l.replace(u,"$1"),n=e.inArray(s,C);n===-1?(E.push(l),y.push("</"+s+">")):C.splice(n,1)}),y.reverse(),v)v=$.find(j).remove().html(),A=$.html(),D=A+v,a="";else{if(v=D.slice(A.length),a=e.trim(v.replace(f,"")),""===a||a.split(/\s+/).length<P.widow)return;a=y.pop()||"",A+=y.join(""),v=E.join("")+v}P.moreLabel=$.find(P.moreSelector).length?"":s(P),b&&(v=D),A+=a,P.summary=A,P.details=v,P.lastCloseTag=a,w.onSlice&&(P=(p=P.onSlice.call(T,P))&&p.details?p:P),b=l(P,b),$.html(b),g=$.find(j),S=$.find(P.moreSelector),"slideUp"===P.collapseEffect&&"slideDown"!==P.expandEffect||$.is(":hidden")?g.css({display:"none"}):g[P.collapseEffect](0),k=$.find("div."+P.summaryClass),S.find("a").unbind("click.expander").bind("click.expander",function(e){e.preventDefault(),S.hide(),k.hide(),w.beforeExpand&&P.beforeExpand.call(T),g.stop(!1,!0)[P.expandEffect](I,function(){g.css({zoom:""}),w.afterExpand&&P.afterExpand.call(T),i(P,g,T)})}),P.userCollapse&&!$.find(P.lessSelector).length&&$.find(j).append('<span class="'+P.lessClass+'">'+P.userCollapsePrefix+'<a href="#">'+P.userCollapseText+"</a></span>"),$.find(P.lessSelector+" a").unbind("click.expander").bind("click.expander",function(a){a.preventDefault(),clearTimeout(o),a=e(this).closest(j),t(P,a),w.onCollapse&&P.onCollapse.call(T,!0)})}})},destroy:function(){this.each(function(){var a,l,s=e(this);s.data("expanderInit")&&(a=e.extend({},s.data("expander")||{},d),l=s.find("."+a.detailClass).contents(),s.removeData("expanderInit"),s.removeData("expander"),s.find(a.moreSelector).remove(),s.find("."+a.summaryClass).remove(),s.find("."+a.detailClass).after(l).remove(),s.find(a.lessSelector).remove())})}},a[r]&&a[r].call(this),this},e.fn.expander.defaults=e.expander.defaults}(jQuery);