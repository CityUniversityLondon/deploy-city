function ResponsiveDatatablesHelper(e,t){this.tableElement="string"==typeof e?$(e):e,this.columnIndexes=[],this.columnsShownIndexes=[],this.columnsHiddenIndexes=[],this.expandColumn=void 0,this.breakpoints={},this.expandIconTemplate='<span class="responsiveExpander"></span>',this.rowTemplate='<tr class="row-detail"><td><ul class="course-extra">\x3c!--column item--\x3e</ul></td></tr>',this.rowLiTemplate='<li><span class="columnTitle">\x3c!--column title--\x3e</span><span>: </span>\x3c!--column value--\x3e</li>',this.disabled=!1,this.skipNextWindowsWidthChange=!1,this.init(t)}CITY.clearingTimeline=function(){var t,e={tablet:1024,phone:480},n=!!$("html").hasClass("lt-ie9"),r=$("#clearing-courses");r.length&&yepnope({load:"https://www.city.ac.uk/__data/assets/git_bridge/0018/344007/main/js/lib/jquery/plugins/dataTables/jquery.dataTables.min.js",complete:function(){r.dataTable({bPaginate:!1,sAjaxSource:"//webapps.city.ac.uk/clearing/course/all",sAjaxDataProp:"courses",bAutoWidth:!1,aoColumns:[{mData:"title",mRender:function(e,t,n){return'<span class="course-link"><a href="'+n.url+'">'+e+"</span></a>"}},{mData:"ucasCode",mRender:function(e,t,n){return'<span class="course-ucas"><a href="'+n.url+'">'+e+"</span></a>"}},{aTargets:[1],mData:function(e){return e.keywords=e.keywords.replace(/,/g,", "),'<span class="course-keywords"><a href="'+e.url+'">'+e.keywords+"</span></a>"}},{mData:"vacancyStatusExternal",mRender:function(e,t,n){return'<span class="course-vacancy-status"><a href="'+n.url+'">'+(!0===e?"Yes":"No")+"</span></a>"}}],fnPreDrawCallback:function(){n||t||(t=new ResponsiveDatatablesHelper(r,e))},fnRowCallback:function(e){n||t.createExpandIcon(e)},fnDrawCallback:function(){n||t.respond()},fnInitComplete:function(){!function(e){void 0===e?e=$(r.fnGetNodes()):"string"===e&&(e=$(e,r.fnGetNodes()))}()},fnCreatedRow:function(e,t,n){!0===t.vacancyStatusExternal&&(e.className=e.className+"places")},fnServerData:function(e,t,n,r){r.jqXHR=$.ajax({url:e,data:t,success:n,dataType:"jsonp",cache:!1})}})}})}(CITY.debug),ResponsiveDatatablesHelper.prototype.init=function(e){var t,n,r,a=[];_.each(e,function(e,t){a.push({name:t,upperLimit:e,columnsToHide:[]})}),a=_.sortBy(a,"upperLimit"),t=void 0,_.each(a,function(e){e.lowerLimit=t,t=e.upperLimit}),a.push({name:"default",lowerLimit:t,upperLimit:void 0,columnsToHide:[]}),a.forEach(function(e){this.breakpoints[e.name]=e},this),this.tableElement.fnSettings().aoColumns.forEach(function(e,t){e.bVisible&&this.columnIndexes.push(t)},this),n=$("thead th",this.tableElement),_.each(n,function(e,t){var n,r;"expand"===$(e).attr("data-class")&&(this.expandColumn=t),$(e).addClass("column-"+["course","ucas","keyword","places"][t]),void 0!==(r=$(e).attr("data-hide"))&&(n=r.split(/,\s*/),_.each(n,function(e){void 0!==this.breakpoints[e]&&this.breakpoints[e].columnsToHide.push(this.columnIndexes[t])},this))},this),r=this,$(window).bind("resize",function(){r.respond()})},ResponsiveDatatablesHelper.prototype.respond=function(){if(!this.disabled){var e,r,t=$(window).width(),n=[];_.each(this.breakpoints,function(e){(!e.lowerLimit||t>e.lowerLimit)&&(!e.upperLimit||t<=e.upperLimit)&&(n=e.columnsToHide)},this),e=!1,this.skipNextWindowsWidthChange||(e=this.columnsHiddenIndexes.length!==n.length||0<_.difference(this.columnsHiddenIndexes,n).length+_.difference(n,this.columnsHiddenIndexes).length),e&&(this.skipNextWindowsWidthChange=!0,this.columnsHiddenIndexes=n,this.columnsShownIndexes=_.difference(this.columnIndexes,this.columnsHiddenIndexes),this.showHideColumns(),this.columnsHiddenIndexes.length,this.skipNextWindowsWidthChange=!1),this.columnsHiddenIndexes.length?(this.tableElement.addClass("has-columns-hidden"),$("tr.detail-show",(r=this).tableElement).each(function(e,t){var n=$(t);0===n.next(".row-detail").length&&ResponsiveDatatablesHelper.prototype.showRowDetail(r,n)})):(this.tableElement.removeClass("has-columns-hidden"),$("tr.row-detail").remove())}},ResponsiveDatatablesHelper.prototype.showHideColumns=function(){this.columnsShownIndexes.forEach(function(e){this.tableElement.fnSetColumnVis(e,!0,!1)},this),this.columnsHiddenIndexes.forEach(function(e){this.tableElement.fnSetColumnVis(e,!1,!1)},this);var n=this;$("tr.row-detail").remove(),this.tableElement.hasClass("has-columns-hidden")&&$("tr.detail-show",this.tableElement).each(function(e,t){ResponsiveDatatablesHelper.prototype.showRowDetail(n,$(t))})},ResponsiveDatatablesHelper.prototype.createExpandIcon=function(e){if(!this.disabled){var t,n=$("td",e);void 0!==this.expandColumn&&this.expandColumn<n.length&&(t=$(n[this.expandColumn]),0===$("span.responsiveExpander",t).length&&(t.prepend(this.expandIconTemplate),t.on("click","span.responsiveExpander",{responsiveDatatablesHelperInstance:this},this.showRowDetailEventHandler)))}},ResponsiveDatatablesHelper.prototype.showRowDetailEventHandler=function(e){if(!this.disabled){var t=$(this).closest("tr");t.hasClass("detail-show")?ResponsiveDatatablesHelper.prototype.hideRowDetail(e.data.responsiveDatatablesHelperInstance,t):ResponsiveDatatablesHelper.prototype.showRowDetail(e.data.responsiveDatatablesHelperInstance,t),t.toggleClass("detail-show"),e.stopPropagation()}},ResponsiveDatatablesHelper.prototype.showRowDetail=function(n,r){var e,a,t,o=n.tableElement,i=o.fnSettings().aoColumns;e=$(n.rowTemplate),a=$("ul",e),_.each(n.columnsHiddenIndexes,function(e){var t=$(n.rowLiTemplate);$(".columnTitle",t).html(i[e].sTitle),t.append(o.fnGetData(r[0],e)),a.append(t)}),t=n.columnIndexes.length-n.columnsHiddenIndexes.length,$("td",e).attr("colspan",t),r.after(e)},ResponsiveDatatablesHelper.prototype.hideRowDetail=function(e,t){t.next(".row-detail").remove()},ResponsiveDatatablesHelper.prototype.disable=function(e){this.disabled=void 0===e||!0,this.disabled&&($("tbody tr.row-detail",this.tableElement).remove(),$("tbody tr",this.tableElement).removeClass("detail-show"),$("tbody tr span.responsiveExpander",this.tableElement).remove(),this.columnsHiddenIndexes=[],this.columnsShownIndexes=this.columnIndexes,this.showHideColumns(),this.tableElement.removeClass("has-columns-hidden"),this.tableElement.off("click","span.responsiveExpander",this.showRowDetailEventHandler))},function(Oe){function Ae(e,t,n){n=(n||0)-1;for(var r=e.length;++n<r;)if(e[n]===t)return n;return-1}function We(e,t){var n=typeof t;if(e=e.k,"boolean"==n||t==Xe)return e[t];"number"!=n&&"string"!=n&&(n="object");var r="number"==n?t:et+t;return e=e[n]||(e[n]={}),"object"==n?e[r]&&-1<Ae(e[r],t)?0:-1:e[r]?0:-1}function o(e){var t=this.k,n=typeof e;if("boolean"==n||e==Xe)t[e]=Ue;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:et+e,a=t[n]||(t[n]={});"object"==n?(a[r]||(a[r]=[])).push(e)==this.b.length&&(t[n]=Je):a[r]=Ue}}function Le(e){return e.charCodeAt(0)}function Be(e,t){var n=e.m,r=t.m;if((e=e.l)!==(t=t.l)){if(t<e||void 0===e)return 1;if(e<t||void 0===t)return-1}return n<r?-1:1}function qe(e){var t=-1,n=e.length,r=ze();r.false=r.null=r.true=r.undefined=Je;var a=ze();for(a.b=e,a.k=r,a.push=o;++t<n;)a.push(e[t]);return!1===r.object?(Ge(a),Xe):a}function Fe(e){return"\\"+a[e]}function Pe(){return t.pop()||[]}function ze(){return n.pop()||{b:Xe,k:Xe,l:Xe,false:Je,m:0,leading:Je,maxWait:0,null:Je,number:Xe,object:Xe,push:Xe,string:Xe,trailing:Je,true:Je,undefined:Je,n:Xe}}function Ve(e){e.length=0,t.length<r&&t.push(e)}function Ge(e){var t=e.k;t&&Ge(t),e.b=e.k=e.l=e.object=e.number=e.string=e.n=Xe,n.length<r&&n.push(e)}function Ye(e,t,n){t||(t=0),void 0===n&&(n=e?e.length:0);var r=-1;n=n-t||0;for(var a=Array(n<0?0:n);++r<n;)a[r]=e[t+r];return a}function Ke(e){function p(e){if(!e||me.call(e)!=xt)return Je;var t=e.valueOf,n="function"==typeof t&&(n=fe(t))&&fe(n);return n?e==n||fe(e)==n:function(e){var t,n;return e&&me.call(e)==xt&&(!g(t=e.constructor)||t instanceof t)?(d(e,function(e,t){n=t}),n===Me||pe.call(e,n)):Je}(e)}function h(e,t,n){if(!e||!Et[typeof e])return e;t=t&&void 0===n?t:v.createCallback(t,n);for(var r=-1,a=Et[typeof e]&&Re(e),o=a?a.length:0;++r<o&&!1!==t(e[n=a[r]],n,e););return e}function d(e,t,n){var r;if(!e||!Et[typeof e])return e;for(r in t=t&&void 0===n?t:v.createCallback(t,n),e)if(!1===t(e[r],r,e))break;return e}function s(e,t,n){var r,a=e,o=a;if(!a)return o;for(var i=arguments,u=0,l="number"==typeof n?2:i.length;++u<l;)if((a=i[u])&&Et[typeof a])for(var c=-1,s=Et[typeof a]&&Re(a),f=s?s.length:0;++c<f;)void 0===o[r=s[c]]&&(o[r]=a[r]);return o}function f(e,t,n){var r,a=e,o=a;if(!a)return o;var i=arguments,u=0,l="number"==typeof n?2:i.length;if(3<l&&"function"==typeof i[l-2])var c=v.createCallback(i[--l-1],i[l--],2);else 2<l&&"function"==typeof i[l-1]&&(c=i[--l]);for(;++u<l;)if((a=i[u])&&Et[typeof a])for(var s=-1,f=Et[typeof a]&&Re(a),p=f?f.length:0;++s<p;)o[r=f[s]]=c?c(o[r],a[r]):a[r];return o}function v(e){return e&&"object"==typeof e&&!$e(e)&&pe.call(e,"__wrapped__")?e:new a(e)}function a(e){this.__wrapped__=e}function n(r,a,o,e){var i=g(r),u=!o,l=a;if(u){var c=e;o=a}else if(!i){if(!e)throw new te;a=r}return function e(){var t=arguments,n=u?this:a;return i||(r=a[l]),o.length&&(t=t.length?(t=Ie.call(t),c?t.concat(o):o.concat(t)):o),this instanceof e?(n=_(r.prototype)?ye(r.prototype):{},_(t=r.apply(n,t))?t:n):r.apply(n,t)}}function t(e){return Te[e]}function m(){var e=(e=v.indexOf)===O?Ae:e;return e}function r(a){return function(e,t,n,r){return"boolean"!=typeof t&&t!=Xe&&(n=(r=n)&&r[t]===e?Me:t,t=Je),n!=Xe&&(n=v.createCallback(n,r)),a(e,t,n,r)}}function o(e){return Se[e]}function b(e,n,r,t,a,o){var i=e;if("boolean"!=typeof n&&n!=Xe&&(t=r,r=n,n=Je),"function"==typeof r){if(r=void 0===t?r:v.createCallback(r,t,1),void 0!==(i=r(i)))return i;i=e}if(t=_(i)){var u=me.call(i);if(!jt[u])return i;var l=$e(i)}if(!t||!n)return t?l?Ye(i):f({},i):i;switch(t=De[u],u){case yt:case gt:return new t(+i);case wt:case Ct:return new t(i);case kt:return t(i.source,ut.exec(i))}u=!a,a||(a=Pe()),o||(o=Pe());for(var c=a.length;c--;)if(a[c]==e)return o[c];return i=l?t(i.length):{},l&&(pe.call(e,"index")&&(i.index=e.index),pe.call(e,"input")&&(i.input=e.input)),a.push(e),o.push(i),(l?E:h)(e,function(e,t){i[t]=b(e,n,r,Me,a,o)}),u&&(Ve(a),Ve(o)),i}function i(e){var n=[];return d(e,function(e,t){g(e)&&n.push(t)}),n.sort()}function u(e){for(var t=-1,n=Re(e),r=n.length,a={};++t<r;){var o=n[t];a[e[o]]=o}return a}function y(r,e,a,o,i,u){var t=a===Ze;if("function"==typeof a&&!t&&(a=v.createCallback(a,o,2),void 0!==(f=a(r,e))))return!!f;if(r===e)return 0!==r||1/r==1/e;var n=typeof r,l=typeof e;if(r==r&&(!r||"function"!=n&&"object"!=n)&&(!e||"function"!=l&&"object"!=l))return Je;if(r==Xe||e==Xe)return r===e;if(l=me.call(r),n=me.call(e),l==mt&&(l=xt),n==mt&&(n=xt),l!=n)return Je;switch(l){case yt:case gt:return+r==+e;case wt:return r!=+r?e!=+e:0==r?1/r==1/e:r==+e;case kt:case Ct:return r==ee(e)}if(!(n=l==bt)){if(pe.call(r,"__wrapped__")||pe.call(e,"__wrapped__"))return y(r.__wrapped__||r,e.__wrapped__||e,a,o,i,u);if(l!=xt)return Je;l=r.constructor;var c=e.constructor;if(!(l==c||g(l)&&l instanceof l&&g(c)&&c instanceof c))return Je}for(c=!i,i||(i=Pe()),u||(u=Pe()),l=i.length;l--;)if(i[l]==r)return u[l]==e;var s=0,f=Ue;if(i.push(r),u.push(e),n){if(l=r.length,s=e.length,!(f=s==r.length)&&!t)return f;for(;s--;)if(n=l,c=e[s],t)for(;n--&&!(f=y(r[n],c,a,o,i,u)););else if(!(f=y(r[s],c,a,o,i,u)))break;return f}return d(e,function(e,t,n){return pe.call(n,t)?(s++,f=pe.call(r,t)&&y(r[t],e,a,o,i,u)):void 0}),f&&!t&&d(r,function(e,t,n){return pe.call(n,t)?f=-1<--s:void 0}),c&&(Ve(i),Ve(u)),f}function g(e){return"function"==typeof e}function _(e){return!(!e||!Et[typeof e])}function l(e){return"number"==typeof e||me.call(e)==wt}function c(e){return"string"==typeof e||me.call(e)==Ct}function w(e){for(var t=-1,n=Re(e),r=n.length,a=Y(r);++t<r;)a[t]=e[n[t]];return a}function x(e,t,n){var r=-1,a=m(),o=e?e.length:0,i=Je;return n=(n<0?ke(0,o+n):n)||0,o&&"number"==typeof o?i=-1<(c(e)?e.indexOf(t,n):a(e,t,n)):h(e,function(e){return++r<n?void 0:!(i=e===t)}),i}function k(e,r,t){var a=Ue;r=v.createCallback(r,t),t=-1;var n=e?e.length:0;if("number"==typeof n)for(;++t<n&&(a=!!r(e[t],t,e)););else h(e,function(e,t,n){return a=!!r(e,t,n)});return a}function C(e,r,t){var a=[];r=v.createCallback(r,t),t=-1;var n=e?e.length:0;if("number"==typeof n)for(;++t<n;){var o=e[t];r(o,t,e)&&a.push(o)}else h(e,function(e,t,n){r(e,t,n)&&a.push(e)});return a}function j(e,r,t){r=v.createCallback(r,t),t=-1;var a,n=e?e.length:0;if("number"!=typeof n)return h(e,function(e,t,n){return r(e,t,n)?(a=e,Je):void 0}),a;for(;++t<n;){var o=e[t];if(r(o,t,e))return o}}function E(e,t,n){var r=-1,a=e?e.length:0;if(t=t&&void 0===n?t:v.createCallback(t,n),"number"==typeof a)for(;++r<a&&!1!==t(e[r],r,e););else h(e,t);return e}function I(e,r,t){var a=-1,n=e?e.length:0;if(r=v.createCallback(r,t),"number"==typeof n)for(var o=Y(n);++a<n;)o[a]=r(e[a],a,e);else o=[],h(e,function(e,t,n){o[++a]=r(e,t,n)});return o}function D(e,r,t){var a=-1/0,o=a;if(!r&&$e(e)){t=-1;for(var n=e.length;++t<n;){var i=e[t];o<i&&(o=i)}}else r=!r&&c(e)?Le:v.createCallback(r,t),E(e,function(e,t,n){t=r(e,t,n),a<t&&(a=t,o=e)});return o}function H(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r)for(var a=Y(r);++n<r;)a[n]=e[n][t];return a||I(e,t)}function $(e,r,a,t){if(!e)return a;var o=arguments.length<3;r=v.createCallback(r,t,4);var n=-1,i=e.length;if("number"==typeof i)for(o&&(a=e[++n]);++n<i;)a=r(a,e[n],n,e);else h(e,function(e,t,n){a=o?(o=Je,e):r(a,e,t,n)});return a}function R(r,a,o,e){var i=r?r.length:0,u=arguments.length<3;if("number"!=typeof i){var l=Re(r);i=l.length}return a=v.createCallback(a,e,4),E(r,function(e,t,n){t=l?l[--i]:--i,o=u?(u=Je,r[t]):a(o,r[t],t,n)}),o}function T(e,r,t){var a;r=v.createCallback(r,t),t=-1;var n=e?e.length:0;if("number"==typeof n)for(;++t<n&&!(a=r(e[t],t,e)););else h(e,function(e,t,n){return!(a=r(e,t,n))});return!!a}function S(e){var t=-1,n=m(),r=e?e.length:0,a=le.apply(ne,Ie.call(arguments,1)),o=[],i=tt<=r&&n===Ae;if(i){var u=qe(a);u?(n=We,a=u):i=Je}for(;++t<r;)n(a,u=e[t])<0&&o.push(u);return i&&Ge(a),o}function N(e,t,n){if(e){var r=0,a=e.length;if("number"!=typeof t&&t!=Xe){var o=-1;for(t=v.createCallback(t,n);++o<a&&t(e[o],o,e);)r++}else if((r=t)==Xe||n)return e[0];return Ye(e,0,Ce(ke(0,r),a))}}function O(e,t,n){if("number"==typeof n){var r=e?e.length:0;n=n<0?ke(0,r+n):n||0}else if(n)return e[n=W(e,t)]===t?n:-1;return e?Ae(e,t,n):-1}function A(e,t,n){if("number"!=typeof t&&t!=Xe){var r=0,a=-1,o=e?e.length:0;for(t=v.createCallback(t,n);++a<o&&t(e[a],a,e);)r++}else r=t==Xe||n?1:ke(0,t);return Ye(e,r)}function W(e,t,n,r){var a=0,o=e?e.length:a;for(t=(n=n?v.createCallback(n,r,1):z)(t);a<o;)n(e[r=a+o>>>1])<t?a=r+1:o=r;return a}function L(e){for(var t=-1,n=e?D(H(e,"length")):0,r=Y(n<0?0:n);++t<n;)r[t]=H(e,t);return r}function B(e,t){for(var n=-1,r=e?e.length:0,a={};++n<r;){var o=e[n];t?a[o]=t[n]:a[o[0]]=o[1]}return a}function q(e,t){return He.fastBind||be&&2<arguments.length?be.call.apply(be,arguments):n(e,t,Ie.call(arguments,2))}function F(n,r,e){function t(){ue(p),ue(h),c=0,p=h=Xe}function a(){var e=d&&(!v||1<c);t(),e&&(!1!==f&&(s=new M),u=n.apply(l,i))}function o(){t(),(d||f!==r)&&(s=new M,u=n.apply(l,i))}var i,u,l,c=0,s=0,f=Je,p=Xe,h=Xe,d=Ue;if(r=ke(0,r||0),e===Ue){var v=Ue;d=Je}else _(e)&&(v=e.leading,f="maxWait"in e&&ke(r,e.maxWait||0),d="trailing"in e?e.trailing:d);return function(){if(i=arguments,l=this,c++,ue(h),!1===f)v&&c<2&&(u=n.apply(l,i));else{var e=new M;!p&&!v&&(s=e);var t=f-(e-s);0<t?p||(p=ve(o,t)):(ue(p),p=Xe,s=e,u=n.apply(l,i))}return r!==f&&(h=ve(a,r)),u}}function P(e){var t=Ie.call(arguments,1);return ve(function(){e.apply(Me,t)},1)}function z(e){return e}function V(t){E(i(t),function(e){var n=v[e]=t[e];v.prototype[e]=function(){var e=this.__wrapped__,t=[e];return he.apply(t,arguments),t=n.apply(v,t),e&&"object"==typeof e&&e===t?this:new a(t)}})}function G(){return this.__wrapped__}var Y=(e=e?Dt.defaults(Oe.Object(),e,Dt.pick(Oe,vt)):Oe).Array,K=e.Boolean,M=e.Date,U=e.Function,X=e.Math,J=e.Number,Q=e.Object,Z=e.RegExp,ee=e.String,te=e.TypeError,ne=[],re=Q.prototype,ae=e._,oe=Z("^"+ee(re.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),ie=X.ceil,ue=e.clearTimeout,le=ne.concat,ce=X.floor,se=U.prototype.toString,fe=oe.test(fe=Q.getPrototypeOf)&&fe,pe=re.hasOwnProperty,he=ne.push,de=e.setImmediate,ve=e.setTimeout,me=re.toString,be=oe.test(be=me.bind)&&be,ye=oe.test(ye=Q.create)&&ye,ge=oe.test(ge=Y.isArray)&&ge,_e=e.isFinite,we=e.isNaN,xe=oe.test(xe=Q.keys)&&xe,ke=X.max,Ce=X.min,je=e.parseInt,Ee=X.random,Ie=ne.slice,De=(X=oe.test(e.attachEvent),X=be&&!/\n|true/.test(be+X),{});De[bt]=Y,De[yt]=K,De[gt]=M,De[_t]=U,De[xt]=Q,De[wt]=J,De[kt]=Z,De[Ct]=ee,a.prototype=v.prototype;var He=v.support={};He.fastBind=be&&!X,v.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:lt,variable:"",imports:{_:v}};var $e=ge,Re=xe?function(e){return _(e)?xe(e):[]}:function(e){var t,n=[];if(!e||!Et[typeof e])return n;for(t in e)pe.call(e,t)&&n.push(t);return n},Te={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Se=u(Te),Ne=(K=r(function e(t,n,r){for(var a=-1,o=t?t.length:0,i=[];++a<o;){var u=t[a];r&&(u=r(u,a,t)),$e(u)?he.apply(i,n?u:e(u)):i.push(u)}return i}),r(function(e,t,n){var r=-1,a=m(),o=e?e.length:0,i=[],u=!t&&tt<=o&&a===Ae,l=n||u?Pe():i;u&&(l=(c=qe(l))?(a=We,c):(u=Je,n?l:(Ve(l),i)));for(;++r<o;){var c=e[r],s=n?n(c,r,e):c;(t?!r||l[l.length-1]!==s:a(l,s)<0)&&((n||u)&&l.push(s),i.push(c))}return u?(Ve(l.b),Ge(l)):n&&Ve(l),i}));return X&&It&&"function"==typeof de&&(P=q(de,e)),de=8==je(st+"08")?je:function(e,t){return je(c(e)?e.replace(ft,""):e,t||0)},v.after=function(e,t){return e<1?t():function(){return--e<1?t.apply(this,arguments):void 0}},v.assign=f,v.at=function(e){for(var t=-1,n=le.apply(ne,Ie.call(arguments,1)),r=n.length,a=Y(r);++t<r;)a[t]=e[n[t]];return a},v.bind=q,v.bindAll=function(e){for(var t=1<arguments.length?le.apply(ne,Ie.call(arguments,1)):i(e),n=-1,r=t.length;++n<r;){var a=t[n];e[a]=q(e[a],e)}return e},v.bindKey=function(e,t){return n(e,t,Ie.call(arguments,2),Ze)},v.compact=function(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var a=e[t];a&&r.push(a)}return r},v.compose=function(){var n=arguments;return function(){for(var e=arguments,t=n.length;t--;)e=[n[t].apply(this,e)];return e[0]}},v.countBy=function(e,r,t){var a={};return r=v.createCallback(r,t),E(e,function(e,t,n){t=ee(r(e,t,n)),pe.call(a,t)?a[t]++:a[t]=1}),a},v.createCallback=function(a,o,e){if(a==Xe)return z;var t=typeof a;if("function"==t)return void 0===o||ct&&!ct.test(se.call(a))?a:1===e?function(e){return a.call(o,e)}:2===e?function(e,t){return a.call(o,e,t)}:4===e?function(e,t,n,r){return a.call(o,e,t,n,r)}:function(e,t,n){return a.call(o,e,t,n)};if("object"!=t)return function(e){return e[a]};var r=Re(a);return function(e){for(var t=r.length,n=Je;t--&&(n=y(e[r[t]],a[r[t]],Ze)););return n}},v.debounce=F,v.defaults=s,v.defer=P,v.delay=function(e,t){var n=Ie.call(arguments,2);return ve(function(){e.apply(Me,n)},t)},v.difference=S,v.filter=C,v.flatten=K,v.forEach=E,v.forIn=d,v.forOwn=h,v.functions=i,v.groupBy=function(e,r,t){var a={};return r=v.createCallback(r,t),E(e,function(e,t,n){t=ee(r(e,t,n)),(pe.call(a,t)?a[t]:a[t]=[]).push(e)}),a},v.initial=function(e,t,n){if(!e)return[];var r=0,a=e.length;if("number"!=typeof t&&t!=Xe){var o=a;for(t=v.createCallback(t,n);o--&&t(e[o],o,e);)r++}else r=t==Xe||n?1:t||r;return Ye(e,0,Ce(ke(0,a-r),a))},v.intersection=function(e){for(var t=arguments,n=t.length,r=-1,a=Pe(),o=-1,i=m(),u=e?e.length:0,l=[],c=Pe();++r<n;){var s=t[r];a[r]=i===Ae&&(s?s.length:0)>=tt&&qe(r?t[r]:c)}e:for(;++o<u;){var f=a[0];s=e[o];if((f?We(f,s):i(c,s))<0){for(r=n,(f||c).push(s);--r;)if(((f=a[r])?We(f,s):i(t[r],s))<0)continue e;l.push(s)}}for(;n--;)(f=a[n])&&Ge(f);return Ve(a),Ve(c),l},v.invert=u,v.invoke=function(e,t){var n=Ie.call(arguments,2),r=-1,a="function"==typeof t,o=e?e.length:0,i=Y("number"==typeof o?o:0);return E(e,function(e){i[++r]=(a?t:e[t]).apply(e,n)}),i},v.keys=Re,v.map=I,v.max=D,v.memoize=function(n,r){function a(){var e=a.cache,t=et+(r?r.apply(this,arguments):arguments[0]);return pe.call(e,t)?e[t]:e[t]=n.apply(this,arguments)}return a.cache={},a},v.merge=function u(l,e,t){var n=arguments,r=0,a=2;if(!_(l))return l;if(t===Ze)var c=n[3],s=n[4],f=n[5];else{var o=Ue;s=Pe(),f=Pe(),"number"!=typeof t&&(a=n.length),3<a&&"function"==typeof n[a-2]?c=v.createCallback(n[--a-1],n[a--],2):2<a&&"function"==typeof n[a-1]&&(c=n[--a])}for(;++r<a;)($e(n[r])?E:h)(n[r],function(e,t){var n,r,a=e,o=l[t];if(e&&((r=$e(e))||p(e))){for(a=s.length;a--;)if(n=s[a]==e){o=f[a];break}var i;n||(c&&(i=void 0!==(a=c(o,e)))&&(o=a),i||(o=r?$e(o)?o:[]:p(o)?o:{}),s.push(e),f.push(o),i||(o=u(o,e,Ze,c,s,f)))}else c&&void 0===(a=c(o,e))&&(a=e),void 0!==a&&(o=a);l[t]=o});return o&&(Ve(s),Ve(f)),l},v.min=function(e,r,t){var a=1/0,o=a;if(!r&&$e(e)){t=-1;for(var n=e.length;++t<n;){var i=e[t];i<o&&(o=i)}}else r=!r&&c(e)?Le:v.createCallback(r,t),E(e,function(e,t,n){(t=r(e,t,n))<a&&(a=t,o=e)});return o},v.omit=function(e,r,t){var a=m(),o="function"==typeof r,i={};if(o)r=v.createCallback(r,t);else var u=le.apply(ne,Ie.call(arguments,1));return d(e,function(e,t,n){(o?!r(e,t,n):a(u,t)<0)&&(i[t]=e)}),i},v.once=function(e){var t,n;return function(){return t||(t=Ue,n=e.apply(this,arguments),e=Xe),n}},v.pairs=function(e){for(var t=-1,n=Re(e),r=n.length,a=Y(r);++t<r;){var o=n[t];a[t]=[o,e[o]]}return a},v.partial=function(e){return n(e,Ie.call(arguments,1))},v.partialRight=function(e){return n(e,Ie.call(arguments,1),Xe,Ze)},v.pick=function(e,r,t){var a={};if("function"!=typeof r)for(var n=-1,o=le.apply(ne,Ie.call(arguments,1)),i=_(e)?o.length:0;++n<i;){var u=o[n];u in e&&(a[u]=e[u])}else r=v.createCallback(r,t),d(e,function(e,t,n){r(e,t,n)&&(a[t]=e)});return a},v.pluck=H,v.range=function(e,t,n){e=+e||0,t==Xe&&(t=e,e=0);var r=-1;t=ke(0,ie((t-e)/(n=+n||1)));for(var a=Y(t);++r<t;)a[r]=e,e+=n;return a},v.reject=function(e,r,t){return r=v.createCallback(r,t),C(e,function(e,t,n){return!r(e,t,n)})},v.rest=A,v.shuffle=function(e){var n=-1,t=e?e.length:0,r=Y("number"==typeof t?t:0);return E(e,function(e){var t=ce(Ee()*(++n+1));r[n]=r[t],r[t]=e}),r},v.sortBy=function(e,a,t){var o=-1,n=e?e.length:0,i=Y("number"==typeof n?n:0);for(a=v.createCallback(a,t),E(e,function(e,t,n){var r=i[++o]=ze();r.l=a(e,t,n),r.m=o,r.n=e}),n=i.length,i.sort(Be);n--;)e=i[n],i[n]=e.n,Ge(e);return i},v.tap=function(e,t){return t(e),e},v.throttle=function(e,t,n){var r=Ue,a=Ue;return!1===n?r=Je:_(n)&&(r="leading"in n?n.leading:r,a="trailing"in n?n.trailing:a),(n=ze()).leading=r,n.maxWait=t,n.trailing=a,e=F(e,t,n),Ge(n),e},v.times=function(e,t,n){e=-1<(e=+e)?e:0;var r=-1,a=Y(e);for(t=v.createCallback(t,n,1);++r<e;)a[r]=t(r);return a},v.toArray=function(e){return e&&"number"==typeof e.length?Ye(e):w(e)},v.transform=function(e,r,a,t){var n=$e(e);return r=v.createCallback(r,t,4),a==Xe&&(a=n?[]:_((t=e&&e.constructor)&&t.prototype)?ye(t&&t.prototype):{}),(n?E:h)(e,function(e,t,n){return r(a,e,t,n)}),a},v.union=function(e){return $e(e)||(e=e?Ie.call(e):ne),Ne(le.apply(ne,arguments))},v.uniq=Ne,v.unzip=L,v.values=w,v.where=C,v.without=function(e){return S(e,Ie.call(arguments,1))},v.wrap=function(t,n){return function(){var e=[t];return he.apply(e,arguments),n.apply(this,e)}},v.zip=function(e){return e?L(arguments):[]},v.zipObject=B,v.collect=I,v.drop=A,v.each=E,v.extend=f,v.methods=i,v.object=B,v.select=C,v.tail=A,v.unique=Ne,V(v),(v.chain=v).prototype.chain=function(){return this},v.clone=b,v.cloneDeep=function(e,t,n){return b(e,Ue,t,n)},v.contains=x,v.escape=function(e){return e==Xe?"":ee(e).replace(ht,t)},v.every=k,v.find=j,v.findIndex=function(e,t,n){var r=-1,a=e?e.length:0;for(t=v.createCallback(t,n);++r<a;)if(t(e[r],r,e))return r;return-1},v.findKey=function(e,r,t){var a;return r=v.createCallback(r,t),h(e,function(e,t,n){return r(e,t,n)?(a=t,Je):void 0}),a},v.has=function(e,t){return e?pe.call(e,t):Je},v.identity=z,v.indexOf=O,v.isArguments=function(e){return me.call(e)==mt},v.isArray=$e,v.isBoolean=function(e){return e===Ue||!1===e||me.call(e)==yt},v.isDate=function(e){return e?"object"==typeof e&&me.call(e)==gt:Je},v.isElement=function(e){return e?1===e.nodeType:Je},v.isEmpty=function(e){var t=Ue;if(!e)return t;var n=me.call(e),r=e.length;return n==bt||n==Ct||n==mt||n==xt&&"number"==typeof r&&g(e.splice)?!r:(h(e,function(){return t=Je}),t)},v.isEqual=y,v.isFinite=function(e){return _e(e)&&!we(parseFloat(e))},v.isFunction=g,v.isNaN=function(e){return l(e)&&e!=+e},v.isNull=function(e){return e===Xe},v.isNumber=l,v.isObject=_,v.isPlainObject=p,v.isRegExp=function(e){return e?"object"==typeof e&&me.call(e)==kt:Je},v.isString=c,v.isUndefined=function(e){return void 0===e},v.lastIndexOf=function(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(n<0?ke(0,r+n):Ce(n,r-1))+1);r--;)if(e[r]===t)return r;return-1},v.mixin=V,v.noConflict=function(){return e._=ae,this},v.parseInt=de,v.random=function(e,t){e==Xe&&t==Xe&&(t=1),e=+e||0,t==Xe?(t=e,e=0):t=+t||0;var n=Ee();return e%1||t%1?e+Ce(n*(t-e+parseFloat("1e-"+((n+"").length-1))),t):e+ce(n*(t-e+1))},v.reduce=$,v.reduceRight=R,v.result=function(e,t){var n=e?e[t]:Me;return g(n)?e[t]():n},v.runInContext=Ke,v.size=function(e){var t=e?e.length:0;return"number"==typeof t?t:Re(e).length},v.some=T,v.sortedIndex=W,v.template=function(i,e,t){i||(i="");var u,n=s({},(t=s({},t,r=v.templateSettings)).imports,r.imports),r=Re(n),l=(n=w(n),0),a=t.interpolate||pt,c="__p+='";a=Z((t.escape||pt).source+"|"+a.source+"|"+(a===lt?it:pt).source+"|"+(t.evaluate||pt).source+"|$","g");i.replace(a,function(e,t,n,r,a,o){return n||(n=r),c+=i.slice(l,o).replace(dt,Fe),t&&(c+="'+__e("+t+")+'"),a&&(u=Ue,c+="';"+a+";__p+='"),n&&(c+="'+((__t=("+n+"))==null?'':__t)+'"),l=o+e.length,e}),c+="';\n",(a=t=t.variable)||(c="with("+(t="obj")+"){"+c+"}"),c=(u?c.replace(nt,""):c).replace(rt,"$1").replace(at,"$1;"),c="function("+t+"){"+(a?"":t+"||("+t+"={});")+"var __t,__p='',__e=_.escape"+(u?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}";try{var o=U(r,"return "+c).apply(Me,n)}catch(e){throw e.source=c,e}return e?o(e):(o.source=c,o)},v.unescape=function(e){return e==Xe?"":ee(e).replace(ot,o)},v.uniqueId=function(e){var t=++Qe;return ee(e==Xe?"":e)+t},v.all=k,v.any=T,v.detect=j,v.findWhere=j,v.foldl=$,v.foldr=R,v.include=x,v.inject=$,h(v,function(t,e){v.prototype[e]||(v.prototype[e]=function(){var e=[this.__wrapped__];return he.apply(e,arguments),t.apply(v,e)})}),v.first=N,v.last=function(e,t,n){if(e){var r=0,a=e.length;if("number"!=typeof t&&t!=Xe){var o=a;for(t=v.createCallback(t,n);o--&&t(e[o],o,e);)r++}else if((r=t)==Xe||n)return e[a-1];return Ye(e,ke(0,a-r))}},v.take=N,v.head=N,h(v,function(r,e){v.prototype[e]||(v.prototype[e]=function(e,t){var n=r(this.__wrapped__,e,t);return e==Xe||t&&"function"!=typeof e?n:new a(n)})}),v.VERSION="1.3.1",v.prototype.toString=function(){return ee(this.__wrapped__)},v.prototype.value=G,v.prototype.valueOf=G,E(["join","pop","shift"],function(e){var t=ne[e];v.prototype[e]=function(){return t.apply(this.__wrapped__,arguments)}}),E(["push","reverse","sort","unshift"],function(e){var t=ne[e];v.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),E(["concat","slice","splice"],function(e){var t=ne[e];v.prototype[e]=function(){return new a(t.apply(this.__wrapped__,arguments))}}),v}var Me,Ue=!0,Xe=null,Je=!1,t=[],n=[],Qe=0,Ze={},et=+new Date+"",tt=75,r=40,nt=/\b__p\+='';/g,rt=/\b(__p\+=)''\+/g,at=/(__e\(.*?\)|\b__t\))\+'';/g,ot=/&(?:amp|lt|gt|quot|#39);/g,it=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ut=/\w*$/,lt=/<%=([\s\S]+?)%>/g,ct=(ct=/\bthis\b/).test(Ke)&&ct,st=" \t\v\f \ufeff\n\r\u2028\u2029 ᠎             　",ft=RegExp("^["+st+"]*0+(?=.$)"),pt=/($^)/,ht=/[&<>"']/g,dt=/['\n\r\t\u2028\u2029\\]/g,vt="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),mt="[object Arguments]",bt="[object Array]",yt="[object Boolean]",gt="[object Date]",_t="[object Function]",wt="[object Number]",xt="[object Object]",kt="[object RegExp]",Ct="[object String]",jt={};jt[_t]=Je,jt[mt]=jt[bt]=jt[yt]=jt[gt]=jt[wt]=jt[xt]=jt[kt]=jt[Ct]=Ue;var Et={boolean:Je,function:Ue,object:Ue,number:Je,string:Je,undefined:Je},a={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},e=Et[typeof exports]&&exports,It=Et[typeof module]&&module&&module.exports==e&&module,i=Et[typeof global]&&global;!i||i.global!==i&&i.window!==i||(Oe=i);var Dt=Ke();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Oe._=Dt,define(function(){return Dt})):e&&!e.nodeType?It?(It.exports=Dt)._=Dt:e._=Dt:Oe._=Dt}(this);