CITY.capacityPlans=function(){var t,e=$(".highcharts"),a=["January","February","March","April","May","June","July","August","September","October","November","December"],n=(new Date).getMonth(),r=(new Date).getFullYear(),s=r+1,o=[],i=12,h=[],l=[],c=[],p=function(){for(var t=0;t<i;t++)t>11-n&&(i-=t,t=0-n),o.push(a[n+t])},u=function(t,e){var a,s=e.startDate.split("/"),o=e.endDate.split("/");e.startmonth=s[0]-1,e.endmonth=o[0]-1,e.startyear=s[1],e.endyear=o[1],parseInt(e.endyear,10)>r&&(a=parseInt(e.endmonth,10),a+=12,e.endmonth=a),parseInt(e.endyear,10)>=r&&parseInt(e.endmonth,10)>=n&&parseInt(e.endyear,10)>=r&&(h.push(e.title),l.push(e.barcolor),parseInt(e.startyear,10)>r?c.push([parseInt(e.startmonth-n+12,10),parseInt(e.endmonth-n,10)]):parseInt(e.startyear,10)<r?c.push([parseInt(e.startmonth-n-12,10),parseInt(e.endmonth-n,10)]):c.push([parseInt(e.startmonth-n,10),parseInt(e.endmonth-n,10)]))},d=function(e,a,n){c=[],h=[],l=[],$.each(e,function(t,e){u(t,e)}),t=new Highcharts.Chart({chart:{renderTo:a,type:"columnrange",inverted:!0},title:{text:n+": 12 Month Outlook"},subtitle:{text:r+" - "+s},xAxis:{categories:h,showLastLabel:!0,endOnTick:!0,offset:50},yAxis:{showFirstLabel:!1,allowDecimals:!1,min:-1,max:11,categories:o,title:{text:"Months"},labels:{staggerLines:3,overflow:"justify"}},plotOptions:{series:{colorByPoint:!0,colors:l}},legend:{enabled:!1},series:[{data:c}],tooltip:{enabled:!1}})};e.addClass("loading"),p(),e.each(function(t,e){var a=$(this),n=a.find(".project"),r=a.data("cul-team-title"),s={};n.each(function(){var t=$(this),e=t.data("cul-project"),a=e.title;s[a]=e}),d(s,e,r)})}(CITY.debug);