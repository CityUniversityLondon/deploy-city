!function(t){Galleria.addTheme({name:"classic",author:"Galleria",css:"galleria.classic.city.css",defaults:{transition:"slide",thumbCrop:"height",_toggleInfo:!0},init:function(i){Galleria.requires(1.4,"This version of Classic theme requires Galleria 1.4 or later"),this.addElement("info-link","info-close"),this.append({info:["info-link","info-close"]});var e=this.$("info-link,info-close,info-text"),n=Galleria.TOUCH;this.$("loader,counter").show().css("opacity",.4),n||(this.addIdleState(this.get("image-nav-left"),{left:-50}),this.addIdleState(this.get("image-nav-right"),{right:-50}),this.addIdleState(this.get("counter"),{opacity:0})),!0===i._toggleInfo?e.bind("click:fast",function(){e.toggle()}):(e.show(),this.$("info-link, info-close").hide()),this.bind("thumbnail",function(i){n?t(i.thumbTarget).css("opacity",this.getIndex()?1:.6).bind("click:fast",function(){t(this).css("opacity",1).parent().siblings().children().css("opacity",.6)}):(t(i.thumbTarget).css("opacity",.6).parent().hover(function(){t(this).not(".active").children().stop().fadeTo(100,1)},function(){t(this).not(".active").children().stop().fadeTo(400,.6)}),i.index===this.getIndex()&&t(i.thumbTarget).css("opacity",1))});this.bind("loadstart",function(i){i.cached||this.$("loader").show().fadeTo(200,.4),window.setTimeout(function(){!function(i){t(i.thumbTarget).css("opacity",1).parent().siblings().children().css("opacity",.6)}(i)},n?300:0),this.$("info").toggle(this.hasInfo())}),this.bind("loadfinish",function(t){this.$("loader").fadeOut(200)});var s=this;this._thumbnails.forEach(function(i){t(i.container).attr("tabindex","0").keypress(function(i){if(13==i.which){var e=t(i.currentTarget).data("index");s.getIndex()!==e&&s.show(e),i.preventDefault()}})})}})}(jQuery);
                                      .children()
                                      .css('opacity', 0.6);
                              })
                        : (t(i.thumbTarget)
                              .css('opacity', 0.6)
                              .parent()
                              .hover(
                                  function() {
                                      t(this)
                                          .not('.active')
                                          .children()
                                          .stop()
                                          .fadeTo(100, 1);
                                  },
                                  function() {
                                      t(this)
                                          .not('.active')
                                          .children()
                                          .stop()
                                          .fadeTo(400, 0.6);
                                  }
                              ),
                          i.index === this.getIndex() &&
                              t(i.thumbTarget).css('opacity', 1));
                });
            var s = function(i) {
                t(i.thumbTarget)
                    .css('opacity', 1)
                    .parent()
                    .siblings()
                    .children()
                    .css('opacity', 0.6);
            };
            this.bind('loadstart', function(t) {
                t.cached ||
                    this.$('loader')
                        .show()
                        .fadeTo(200, 0.4),
                    window.setTimeout(function() {
                        s(t);
                    }, n ? 300 : 0),
                    this.$('info').toggle(this.hasInfo());
            }),
                this.bind('loadfinish', function() {
                    this.$('loader').fadeOut(200);
                });
            var a = this;
            this._thumbnails.forEach(function(i) {
                t(i.container)
                    .attr('tabindex', '0')
                    .keypress(function(i) {
                        if (13 == i.which) {
                            var e = t(i.currentTarget).data('index');
                            a.getIndex() !== e && a.show(e), i.preventDefault();
                        }
                    });
            });
        },
    });
})(jQuery);
