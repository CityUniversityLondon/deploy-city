var $=require("../libs/jquery"),defer=require("../utils/defer"),debug=require("../../utils/debug"),FeaturedVideo=require("./featured-video"),VideoList=require("./video-list"),onLoad=function(e,i){var d=new FeaturedVideo("#yt-featured-video"),t=new VideoList("#yt-videos-list",d),o=i.items;t.buildList(e,o)},init=function(){var e=$(".yt-module, #yt-module").data("yt-playlist");if(e){var i=e.indexOf("/youtube/v3/")>=0;$.ajax({url:e,dataType:"jsonp",success:onLoad.bind(null,i),complete:function(){$("#yt-featured-video").removeClass("component-loading").children(".loading-fa-icon").remove()},error:function(e,i,d){debug(e,i,d)}})}else debug("Needs a YouTube playlist")};defer(init);