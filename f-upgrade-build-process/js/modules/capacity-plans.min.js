CITY.capacityPlans=function(){var t=$(".highcharts"),e=["January","February","March","April","May","June","July","August","September","October","November","December"],a=(new Date).getMonth(),n=(new Date).getFullYear(),r=n+1,s=[],o=12,i=[],h=[],l=[],c=function(t,e,o){l=[],i=[],h=[],$.each(t,function(t,e){!function(t,e){var r,s=e.startDate.split("/"),o=e.endDate.split("/");e.startmonth=s[0]-1,e.endmonth=o[0]-1,e.startyear=s[1],e.endyear=o[1],parseInt(e.endyear,10)>n&&(r=parseInt(e.endmonth,10),r+=12,e.endmonth=r),parseInt(e.endyear,10)>=n&&parseInt(e.endmonth,10)>=a&&parseInt(e.endyear,10)>=n&&(i.push(e.title),h.push(e.barcolor),parseInt(e.startyear,10)>n?l.push([parseInt(e.startmonth-a+12,10),parseInt(e.endmonth-a,10)]):parseInt(e.startyear,10)<n?l.push([parseInt(e.startmonth-a-12,10),parseInt(e.endmonth-a,10)]):l.push([parseInt(e.startmonth-a,10),parseInt(e.endmonth-a,10)]))}(0,e)}),new Highcharts.Chart({chart:{renderTo:e,type:"columnrange",inverted:!0},title:{text:o+": 12 Month Outlook"},subtitle:{text:n+" - "+r},xAxis:{categories:i,showLastLabel:!0,endOnTick:!0,offset:50},yAxis:{showFirstLabel:!1,allowDecimals:!1,min:-1,max:11,categories:s,title:{text:"Months"},labels:{staggerLines:3,overflow:"justify"}},plotOptions:{series:{colorByPoint:!0,colors:h}},legend:{enabled:!1},series:[{data:l}],tooltip:{enabled:!1}})};t.addClass("loading"),function(){for(var t=0;t<o;t++)t>11-a&&(o-=t,t=0-a),s.push(e[a+t])}(),t.each(function(t,e){var a=$(this),n=a.find(".project"),r=a.data("cul-team-title"),s={};n.each(function(){var t=$(this).data("cul-project"),e=t.title;s[e]=t}),c(s,e,r)})}(CITY.debug);