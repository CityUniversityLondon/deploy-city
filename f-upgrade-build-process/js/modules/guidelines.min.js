CITY.guidelines=function(){var e=document.querySelector('meta[name="viewport"]'),t=document.querySelector("meta[charset]"),n=e&&e.outerHTML||"",o=t&&t.outerHTML||"",i={};function r(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.join(" ")}function l(e){var t,l=e||{};return l.htmlAttr=r(l.htmlAttr||{}),l.bodyAttr=r(l.bodyAttr||{}),l.sizingTimeout=l.sizingTimeout||1e3,l.styles=l.styles?"<style>"+l.styles+"</style>":"",l.stylesheets=(t=l.stylesSelector||"link[rel*=stylesheet], style",void 0===i[t]&&(i[t]=Array.prototype.map.call(document.querySelectorAll(t),function(e){return e.outerHTML}).join("")),i[t]),l.metaCharset=l.metaCharset||o,l.metaViewport=l.metaViewport||n,l}function s(e,t){t=l(t);var n=document.createElement("iframe");return n.srcdoc=function(e,t){return"<!doctype html><html "+t.htmlAttr+"><head>"+t.metaCharset+t.metaViewport+t.stylesheets+t.styles+"</head><body "+t.bodyAttr+">"+e.innerHTML+"</body></html>"}(e,t),e.parentNode.replaceChild(n,e),setTimeout(function(){var e,t,o,i=n.contentDocument||n.contentWindow.document;n.height=(t=(e=(e=i)||document).body,o=e.documentElement,Math.max(t.scrollHeight,t.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight))},t.sizingTimeout),n}var a=$(".menu-toggler"),c=$(".menu-toggler i"),d=$(".navigation");return{init:function(){a.click(function(){a.toggleClass("menu-toggler-close"),d.toggleClass("sr-only"),c.toggleClass("icon-reorder").toggleClass("icon-remove-sign")}),$(".guidelines-component").each(function(){var e=$(this),t=e.find(".guidelines-component__presentation__contents"),n=e.find("script.hb-template").html(),o=e.find("script.model-default").html(),i=e.find("script.model-description").html();if(n){var r=JSON.parse(o||"{}"),l=Handlebars.compile(n)(r);t.html(l);var a=e.find(".guidelines-component__code");a.html(""),a.append("<h3>Template</h3>").append($("<pre></pre>").append($("<code></code>").text(n))),i&&a.append("<h3>Data model</h3>").append($("<pre></pre>").append($("<code></code>").text(i))),o&&a.append("<h3>Test data</h3>").append($("<pre></pre>").append($("<code></code>").text(o)))}s(t[0],{styles:"body > * { margin: 0 !important; overflow: hidden; }"})}),$("[class*='guidelines-component__controls__']").click(function(){var e=$(this).closest(".guidelines-component"),t=e.find("iframe");setTimeout(function(){var n=t.contentDocument||t[0].contentWindow.document;t.attr("height",n.body.scrollHeight),window.location.hash="#",window.location.hash="#"+e.attr("id")},1e3)})}}}(CITY.debug),CITY.guidelines.init();