module.exports=function(){"use strict";var t=require("../jquery"),e=t(".city-health__container"),n=t(".city-health__loading"),i=t(".city-health__form").find("input"),a=function(){t(".city-health__pagination--all a").click(function(e){e.preventDefault();var n=t(this).attr("href").split("result_314729_result_page=")[1];c({result_314729_result_page:n})}),t(".city-health__pagination--filtered a").click(function(e){e.preventDefault();var n=t(this).attr("href").split("current_result_page=")[1].split("&")[0];c({current_result_page:n})})},c=function(c){var l=t.extend({t:(new Date).getTime()},c);i.each(function(){var e=t(this),n=e.attr("name"),i=e.val();n&&n.length>0&&i&&i.length>0&&(l[n]=i)}),e.css("display","none"),n.css("display","inline-block"),t.get("//www.city.ac.uk/api/city-health-courses/_nocache",l,function(t){}).done(function(t){e.html(t)}).always(function(t){e.css("display","block"),n.css("display","none"),a()})};return function(){t(".city-health__form .dropdown-select").cityDropdown({onselect:function(){c()}}),a()}}();