module.exports=function(){"use strict";var i=require("../jquery");return function(){i(".cyclic-popup-item__title").click(function(){var t=i(this),o=i(this).closest(".cyclic-popup-item"),c=t.closest(".cyclic-popup-group").children(".cyclic-popup-item"),n=0,e=c.length;function l(){var t=.9*i(window).width();return t>500&&(t=500),t}function u(i){return 0==i?n==e-1?n=0:n++:0==n?n=e-1:n--,c.get(n)}return c.each(function(t,c){i(this).get(0)===o.get(0)&&(n=t)}),i("<div></div>").dialog({modal:!0,draggable:!1,resizable:!1,width:l(),close:function(){i(this).dialog("destroy")},create:function(){i(this).closest(".ui-dialog").addClass("cyclic-popup"),i(this).html(o.find(".cyclic-popup-item__detail").html()),function(){if(e>1){var t=[{text:"PREVIOUS",click:function(){i(this).html(i(u(!0)).find(".cyclic-popup-item__detail").html())}},{text:"NEXT",click:function(){i(this).html(i(u(!1)).find(".cyclic-popup-item__detail").html())}}];i(".ui-dialog-content").dialog("option","buttons",t)}}()},open:function(){e>1?i(this).parent().find("button:nth-child(2)").focus():i(this).parent().find(".ui-dialog-titlebar-close").focus()}}),i(window).resize(function(){i(".ui-dialog-content").dialog("option","position","center"),i(".ui-dialog-content").dialog("option","width",l())}),i(".ui-widget-overlay").click(function(){i("div:ui-dialog:visible").dialog("close")}),!1})}}();