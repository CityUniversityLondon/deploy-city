function ResponsiveDatatablesHelper(e,t){"string"==typeof e?this.tableElement=$(e):this.tableElement=e,this.columnIndexes=[],this.columnsShownIndexes=[],this.columnsHiddenIndexes=[],this.expandColumn=void 0,this.breakpoints={},this.expandIconTemplate='<span class="responsiveExpander"></span>',this.rowTemplate='<tr class="row-detail"><td><ul class="course-extra"><!--column item--></ul></td></tr>',this.rowLiTemplate='<li><span class="columnTitle"><!--column title--></span><span>: </span><!--column value--></li>',this.disabled=!1,this.skipNextWindowsWidthChange=!1,this.init(t)}CITY.clearingTimeline=function(){var e,t={tablet:1024,phone:480},n=!!$("html").hasClass("lt-ie9"),r=$("#clearing-courses");r.length&&yepnope({load:"//s1.city.ac.uk/cityr/js/lib/jquery/plugins/dataTables/jquery.dataTables.min.js",complete:function(){function a(e){void 0===e?e=$(r.fnGetNodes()):"string"===e&&(e=$(e,r.fnGetNodes()))}r.dataTable({bPaginate:!1,sAjaxSource:"//webapps.city.ac.uk/clearing/course/all",sAjaxDataProp:"courses",bAutoWidth:!1,aoColumns:[{mData:"title",mRender:function(e,t,n){return'<span class="course-link"><a href="'+n.url+'">'+e+"</span></a>"}},{mData:"ucasCode",mRender:function(e,t,n){return'<span class="course-ucas"><a href="'+n.url+'">'+e+"</span></a>"}},{aTargets:[1],mData:function(e){return e.keywords=e.keywords.replace(/,/g,", "),'<span class="course-keywords"><a href="'+e.url+'">'+e.keywords+"</span></a>"}},{mData:"vacancyStatusExternal",mRender:function(e,t,n){return'<span class="course-vacancy-status"><a href="'+n.url+'">'+(e===!0?"Yes":"No")+"</span></a>"}}],fnPreDrawCallback:function(){n||e||(e=new ResponsiveDatatablesHelper(r,t))},fnRowCallback:function(t){n||e.createExpandIcon(t)},fnDrawCallback:function(){n||e.respond()},fnInitComplete:function(){a()},fnCreatedRow:function(e,t,n){t.vacancyStatusExternal===!0&&(e.className=e.className+"places")},fnServerData:function(e,t,n,r){r.jqXHR=$.ajax({url:e,data:t,success:n,dataType:"jsonp",cache:!1})}})}})}(CITY.debug),ResponsiveDatatablesHelper.prototype.init=function(e){var t,n,r,a,o=[];_.each(e,function(e,t){o.push({name:t,upperLimit:e,columnsToHide:[]})}),o=_.sortBy(o,"upperLimit"),t=void 0,_.each(o,function(e){e.lowerLimit=t,t=e.upperLimit}),o.push({name:"default",lowerLimit:t,upperLimit:void 0,columnsToHide:[]}),o.forEach(function(e){this.breakpoints[e.name]=e},this),n=this.tableElement.fnSettings().aoColumns,n.forEach(function(e,t){e.bVisible&&this.columnIndexes.push(t)},this),r=$("thead th",this.tableElement),_.each(r,function(e,t){var n,r,a=["course","ucas","keyword","places"];"expand"===$(e).attr("data-class")&&(this.expandColumn=t),$(e).addClass("column-"+a[t]),r=$(e).attr("data-hide"),void 0!==r&&(n=r.split(/,\s*/),_.each(n,function(e){void 0!==this.breakpoints[e]&&this.breakpoints[e].columnsToHide.push(this.columnIndexes[t])},this))},this),a=this,$(window).bind("resize",function(){a.respond()})},ResponsiveDatatablesHelper.prototype.respond=function(){if(!this.disabled){var e,t,n,r,a=$(window).width(),o=0,i=[];_.each(this.breakpoints,function(e){(!e.lowerLimit||a>e.lowerLimit)&&(!e.upperLimit||a<=e.upperLimit)&&(i=e.columnsToHide)},this),e=!1,this.skipNextWindowsWidthChange||(this.columnsHiddenIndexes.length!==i.length?e=!0:(t=_.difference(this.columnsHiddenIndexes,i).length,n=_.difference(i,this.columnsHiddenIndexes).length,e=t+n>0)),e&&(this.skipNextWindowsWidthChange=!0,this.columnsHiddenIndexes=i,this.columnsShownIndexes=_.difference(this.columnIndexes,this.columnsHiddenIndexes),this.showHideColumns(),o=this.columnsHiddenIndexes.length,this.skipNextWindowsWidthChange=!1),this.columnsHiddenIndexes.length?(this.tableElement.addClass("has-columns-hidden"),r=this,$("tr.detail-show",this.tableElement).each(function(e,t){var n=$(t);0===n.next(".row-detail").length&&ResponsiveDatatablesHelper.prototype.showRowDetail(r,n)})):(this.tableElement.removeClass("has-columns-hidden"),$("tr.row-detail").remove())}},ResponsiveDatatablesHelper.prototype.showHideColumns=function(){this.columnsShownIndexes.forEach(function(e){this.tableElement.fnSetColumnVis(e,!0,!1)},this),this.columnsHiddenIndexes.forEach(function(e){this.tableElement.fnSetColumnVis(e,!1,!1)},this);var e=this;$("tr.row-detail").remove(),this.tableElement.hasClass("has-columns-hidden")&&$("tr.detail-show",this.tableElement).each(function(t,n){ResponsiveDatatablesHelper.prototype.showRowDetail(e,$(n))})},ResponsiveDatatablesHelper.prototype.createExpandIcon=function(e){if(!this.disabled){var t,n=$("td",e);void 0!==this.expandColumn&&this.expandColumn<n.length&&(t=$(n[this.expandColumn]),0===$("span.responsiveExpander",t).length&&(t.prepend(this.expandIconTemplate),t.on("click","span.responsiveExpander",{responsiveDatatablesHelperInstance:this},this.showRowDetailEventHandler)))}},ResponsiveDatatablesHelper.prototype.showRowDetailEventHandler=function(e){if(!this.disabled){var t=$(this).closest("tr");t.hasClass("detail-show")?ResponsiveDatatablesHelper.prototype.hideRowDetail(e.data.responsiveDatatablesHelperInstance,t):ResponsiveDatatablesHelper.prototype.showRowDetail(e.data.responsiveDatatablesHelperInstance,t),t.toggleClass("detail-show"),e.stopPropagation()}},ResponsiveDatatablesHelper.prototype.showRowDetail=function(e,t){var n,r,a,o=e.tableElement,i=o.fnSettings().aoColumns;n=$(e.rowTemplate),r=$("ul",n),_.each(e.columnsHiddenIndexes,function(n){var a=$(e.rowLiTemplate);$(".columnTitle",a).html(i[n].sTitle),a.append(o.fnGetData(t[0],n)),r.append(a)}),a=e.columnIndexes.length-e.columnsHiddenIndexes.length,$("td",n).attr("colspan",a),t.after(n)},ResponsiveDatatablesHelper.prototype.hideRowDetail=function(e,t){t.next(".row-detail").remove()},ResponsiveDatatablesHelper.prototype.disable=function(e){this.disabled=void 0===e||!0,this.disabled&&($("tbody tr.row-detail",this.tableElement).remove(),$("tbody tr",this.tableElement).removeClass("detail-show"),$("tbody tr span.responsiveExpander",this.tableElement).remove(),this.columnsHiddenIndexes=[],this.columnsShownIndexes=this.columnIndexes,this.showHideColumns(),this.tableElement.removeClass("has-columns-hidden"),this.tableElement.off("click","span.responsiveExpander",this.showRowDetailEventHandler))},!function(e){function t(e,t,n){n=(n||0)-1;for(var r=e.length;++n<r;)if(e[n]===t)return n;return-1}function n(e,n){var r=typeof n;if(e=e.k,"boolean"==r||n==m)return e[n];"number"!=r&&"string"!=r&&(r="object");var a="number"==r?n:x+n;return e=e[r]||(e[r]={}),"object"==r?e[a]&&-1<t(e[a],n)?0:-1:e[a]?0:-1}function r(e){var t=this.k,n=typeof e;if("boolean"==n||e==m)t[e]=v;else{"number"!=n&&"string"!=n&&(n="object");var r="number"==n?e:x+e,a=t[n]||(t[n]={});"object"==n?(a[r]||(a[r]=[])).push(e)==this.b.length&&(t[n]=b):a[r]=v}}function a(e){return e.charCodeAt(0)}function o(e,t){var n=e.m,r=t.m;if(e=e.l,t=t.l,e!==t){if(e>t||"undefined"==typeof e)return 1;if(e<t||"undefined"==typeof t)return-1}return n<r?-1:1}function i(e){var t=-1,n=e.length,a=c();a["false"]=a["null"]=a["true"]=a.undefined=b;var o=c();for(o.b=e,o.k=a,o.push=r;++t<n;)o.push(e[t]);return a.object===!1?(f(o),m):o}function u(e){return"\\"+X[e]}function l(){return y.pop()||[]}function c(){return g.pop()||{b:m,k:m,l:m,"false":b,m:0,leading:b,maxWait:0,"null":b,number:m,object:m,push:m,string:m,trailing:b,"true":b,undefined:b,n:m}}function s(e){e.length=0,y.length<C&&y.push(e)}function f(e){var t=e.k;t&&f(t),e.b=e.k=e.l=e.object=e.number=e.string=e.n=m,g.length<C&&g.push(e)}function p(e,t,n){t||(t=0),"undefined"==typeof n&&(n=e?e.length:0);var r=-1;n=n-t||0;for(var a=Array(0>n?0:n);++r<n;)a[r]=e[t+r];return a}function h(r){function y(e){if(!e||ht.call(e)!=G)return b;var t=e.valueOf,n="function"==typeof t&&(n=lt(t))&&lt(n);return n?e==n||lt(e)==n:ue(e)}function g(e,t,n){if(!e||!U[typeof e])return e;t=t&&"undefined"==typeof n?t:te.createCallback(t,n);for(var r=-1,a=U[typeof e]&&Dt(e),o=a?a.length:0;++r<o&&(n=a[r],!(t(e[n],n,e)===!1)););return e}function C(e,t,n){var r;if(!e||!U[typeof e])return e;t=t&&"undefined"==typeof n?t:te.createCallback(t,n);for(r in e)if(t(e[r],r,e)===!1)break;return e}function X(e,t,n){var r,a=e,o=a;if(!a)return o;for(var i=arguments,u=0,l="number"==typeof n?2:i.length;++u<l;)if((a=i[u])&&U[typeof a])for(var c=-1,s=U[typeof a]&&Dt(a),f=s?s.length:0;++c<f;)r=s[c],"undefined"==typeof o[r]&&(o[r]=a[r]);return o}function J(e,t,n){var r,a=e,o=a;if(!a)return o;var i=arguments,u=0,l="number"==typeof n?2:i.length;if(3<l&&"function"==typeof i[l-2])var c=te.createCallback(i[--l-1],i[l--],2);else 2<l&&"function"==typeof i[l-1]&&(c=i[--l]);for(;++u<l;)if((a=i[u])&&U[typeof a])for(var s=-1,f=U[typeof a]&&Dt(a),p=f?f.length:0;++s<p;)r=f[s],o[r]=c?c(o[r],a[r]):a[r];return o}function Z(e){var t,n=[];if(!e||!U[typeof e])return n;for(t in e)ct.call(e,t)&&n.push(t);return n}function te(e){return e&&"object"==typeof e&&!It(e)&&ct.call(e,"__wrapped__")?e:new ne(e)}function ne(e){this.__wrapped__=e}function re(e,t,n,r){function a(){var r=arguments,c=i?this:t;return o||(e=t[u]),n.length&&(r=r.length?(r=Ct.call(r),l?r.concat(n):n.concat(r)):n),this instanceof a?(c=de(e.prototype)?vt(e.prototype):{},r=e.apply(c,r),de(r)?r:c):e.apply(c,r)}var o=he(e),i=!n,u=t;if(i){var l=r;n=t}else if(!o){if(!r)throw new Qe;t=e}return a}function ae(e){return Ht[e]}function oe(){var e=(e=te.indexOf)===Te?t:e;return e}function ie(e){return function(t,n,r,a){return"boolean"!=typeof n&&n!=m&&(a=r,r=a&&a[n]===t?d:n,n=b),r!=m&&(r=te.createCallback(r,a)),e(t,n,r,a)}}function ue(e){var t,n;return e&&ht.call(e)==G&&(t=e.constructor,!he(t)||t instanceof t)?(C(e,function(e,t){n=t}),n===d||ct.call(e,n)):b}function le(e){return $t[e]}function ce(e,t,n,r,a,o){var i=e;if("boolean"!=typeof t&&t!=m&&(r=n,n=t,t=b),"function"==typeof n){if(n="undefined"==typeof r?n:te.createCallback(n,r,1),i=n(i),"undefined"!=typeof i)return i;i=e}if(r=de(i)){var u=ht.call(i);if(!M[u])return i;var c=It(i)}if(!r||!t)return r?c?p(i):J({},i):i;switch(r=jt[u],u){case F:case P:return new r((+i));case V:case K:return new r(i);case Y:return r(i.source,$.exec(i))}u=!a,a||(a=l()),o||(o=l());for(var f=a.length;f--;)if(a[f]==e)return o[f];return i=c?r(i.length):{},c&&(ct.call(e,"index")&&(i.index=e.index),ct.call(e,"input")&&(i.input=e.input)),a.push(e),o.push(i),(c?ke:g)(e,function(e,r){i[r]=ce(e,t,n,d,a,o)}),u&&(s(a),s(o)),i}function se(e){var t=[];return C(e,function(e,n){he(e)&&t.push(n)}),t.sort()}function fe(e){for(var t=-1,n=Dt(e),r=n.length,a={};++t<r;){var o=n[t];a[e[o]]=o}return a}function pe(e,t,n,r,a,o){var i=n===w;if("function"==typeof n&&!i){n=te.createCallback(n,r,2);var u=n(e,t);if("undefined"!=typeof u)return!!u}if(e===t)return 0!==e||1/e==1/t;var c=typeof e,f=typeof t;if(e===e&&(!e||"function"!=c&&"object"!=c)&&(!t||"function"!=f&&"object"!=f))return b;if(e==m||t==m)return e===t;if(f=ht.call(e),c=ht.call(t),f==B&&(f=G),c==B&&(c=G),f!=c)return b;switch(f){case F:case P:return+e==+t;case V:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case Y:case K:return e==Je(t)}if(c=f==q,!c){if(ct.call(e,"__wrapped__")||ct.call(t,"__wrapped__"))return pe(e.__wrapped__||e,t.__wrapped__||t,n,r,a,o);if(f!=G)return b;var f=e.constructor,p=t.constructor;if(!(f==p||he(f)&&f instanceof f&&he(p)&&p instanceof p))return b}for(p=!a,a||(a=l()),o||(o=l()),f=a.length;f--;)if(a[f]==e)return o[f]==t;var h=0,u=v;if(a.push(e),o.push(t),c){if(f=e.length,h=t.length,u=h==e.length,!u&&!i)return u;for(;h--;)if(c=f,p=t[h],i)for(;c--&&!(u=pe(e[c],p,n,r,a,o)););else if(!(u=pe(e[h],p,n,r,a,o)))break;return u}return C(t,function(t,i,l){return ct.call(l,i)?(h++,u=ct.call(e,i)&&pe(e[i],t,n,r,a,o)):void 0}),u&&!i&&C(e,function(e,t,n){return ct.call(n,t)?u=-1<--h:void 0}),p&&(s(a),s(o)),u}function he(e){return"function"==typeof e}function de(e){return!(!e||!U[typeof e])}function ve(e){return"number"==typeof e||ht.call(e)==V}function me(e){return"string"==typeof e||ht.call(e)==K}function be(e,t,n){var r=arguments,a=0,o=2;if(!de(e))return e;if(n===w)var i=r[3],u=r[4],c=r[5];else{var f=v,u=l(),c=l();"number"!=typeof n&&(o=r.length),3<o&&"function"==typeof r[o-2]?i=te.createCallback(r[--o-1],r[o--],2):2<o&&"function"==typeof r[o-1]&&(i=r[--o])}for(;++a<o;)(It(r[a])?ke:g)(r[a],function(t,n){var r,a,o=t,l=e[n];if(t&&((a=It(t))||y(t))){for(o=u.length;o--;)if(r=u[o]==t){l=c[o];break}if(!r){var s;i&&(o=i(l,t),s="undefined"!=typeof o)&&(l=o),s||(l=a?It(l)?l:[]:y(l)?l:{}),u.push(t),c.push(l),s||(l=be(l,t,w,i,u,c))}}else i&&(o=i(l,t),"undefined"==typeof o&&(o=t)),"undefined"!=typeof o&&(l=o);e[n]=l});return f&&(s(u),s(c)),e}function ye(e){for(var t=-1,n=Dt(e),r=n.length,a=ze(r);++t<r;)a[t]=e[n[t]];return a}function ge(e,t,n){var r=-1,a=oe(),o=e?e.length:0,i=b;return n=(0>n?_t(0,o+n):n)||0,o&&"number"==typeof o?i=-1<(me(e)?e.indexOf(t,n):a(e,t,n)):g(e,function(e){return++r<n?void 0:!(i=e===t)}),i}function _e(e,t,n){var r=v;t=te.createCallback(t,n),n=-1;var a=e?e.length:0;if("number"==typeof a)for(;++n<a&&(r=!!t(e[n],n,e)););else g(e,function(e,n,a){return r=!!t(e,n,a)});return r}function we(e,t,n){var r=[];t=te.createCallback(t,n),n=-1;var a=e?e.length:0;if("number"==typeof a)for(;++n<a;){var o=e[n];t(o,n,e)&&r.push(o)}else g(e,function(e,n,a){t(e,n,a)&&r.push(e)});return r}function xe(e,t,n){t=te.createCallback(t,n),n=-1;var r=e?e.length:0;if("number"!=typeof r){var a;return g(e,function(e,n,r){return t(e,n,r)?(a=e,b):void 0}),a}for(;++n<r;){var o=e[n];if(t(o,n,e))return o}}function ke(e,t,n){var r=-1,a=e?e.length:0;if(t=t&&"undefined"==typeof n?t:te.createCallback(t,n),"number"==typeof a)for(;++r<a&&t(e[r],r,e)!==!1;);else g(e,t);return e}function Ce(e,t,n){var r=-1,a=e?e.length:0;if(t=te.createCallback(t,n),"number"==typeof a)for(var o=ze(a);++r<a;)o[r]=t(e[r],r,e);else o=[],g(e,function(e,n,a){o[++r]=t(e,n,a)});return o}function je(e,t,n){var r=-1/0,o=r;if(!t&&It(e)){n=-1;for(var i=e.length;++n<i;){var u=e[n];u>o&&(o=u)}}else t=!t&&me(e)?a:te.createCallback(t,n),ke(e,function(e,n,a){n=t(e,n,a),n>r&&(r=n,o=e)});return o}function Ee(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r)for(var a=ze(r);++n<r;)a[n]=e[n][t];return a||Ce(e,t)}function Ie(e,t,n,r){if(!e)return n;var a=3>arguments.length;t=te.createCallback(t,r,4);var o=-1,i=e.length;if("number"==typeof i)for(a&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);else g(e,function(e,r,o){n=a?(a=b,e):t(n,e,r,o)});return n}function De(e,t,n,r){var a=e?e.length:0,o=3>arguments.length;if("number"!=typeof a)var i=Dt(e),a=i.length;return t=te.createCallback(t,r,4),ke(e,function(r,u,l){u=i?i[--a]:--a,n=o?(o=b,e[u]):t(n,e[u],u,l)}),n}function He(e,t,n){var r;t=te.createCallback(t,n),n=-1;var a=e?e.length:0;if("number"==typeof a)for(;++n<a&&!(r=t(e[n],n,e)););else g(e,function(e,n,a){return!(r=t(e,n,a))});return!!r}function $e(e){var r=-1,a=oe(),o=e?e.length:0,u=ot.apply(Ze,Ct.call(arguments,1)),l=[],c=o>=k&&a===t;if(c){var s=i(u);s?(a=n,u=s):c=b}for(;++r<o;)s=e[r],0>a(u,s)&&l.push(s);return c&&f(u),l}function Re(e,t,n){if(e){var r=0,a=e.length;if("number"!=typeof t&&t!=m){var o=-1;for(t=te.createCallback(t,n);++o<a&&t(e[o],o,e);)r++}else if(r=t,r==m||n)return e[0];return p(e,0,wt(_t(0,r),a))}}function Te(e,n,r){if("number"==typeof r){var a=e?e.length:0;r=0>r?_t(0,a+r):r||0}else if(r)return r=Ne(e,n),e[r]===n?r:-1;return e?t(e,n,r):-1}function Se(e,t,n){if("number"!=typeof t&&t!=m){var r=0,a=-1,o=e?e.length:0;for(t=te.createCallback(t,n);++a<o&&t(e[a],a,e);)r++}else r=t==m||n?1:_t(0,t);return p(e,r)}function Ne(e,t,n,r){var a=0,o=e?e.length:a;for(n=n?te.createCallback(n,r,1):qe,t=n(t);a<o;)r=a+o>>>1,n(e[r])<t?a=r+1:o=r;return a}function Oe(e){for(var t=-1,n=e?je(Ee(e,"length")):0,r=ze(0>n?0:n);++t<n;)r[t]=Ee(e,t);return r}function Ae(e,t){for(var n=-1,r=e?e.length:0,a={};++n<r;){var o=e[n];t?a[o]=t[n]:a[o[0]]=o[1]}return a}function We(e,t){return Et.fastBind||dt&&2<arguments.length?dt.call.apply(dt,arguments):re(e,t,Ct.call(arguments,2))}function Le(e,t,n){function r(){at(p),at(h),c=0,p=h=m}function a(){var t=d&&(!y||1<c);r(),t&&(f!==!1&&(s=new Ge),u=e.apply(l,i))}function o(){r(),(d||f!==t)&&(s=new Ge,u=e.apply(l,i))}var i,u,l,c=0,s=0,f=b,p=m,h=m,d=v;if(t=_t(0,t||0),n===v)var y=v,d=b;else de(n)&&(y=n.leading,f="maxWait"in n&&_t(t,n.maxWait||0),d="trailing"in n?n.trailing:d);return function(){if(i=arguments,l=this,c++,at(h),f===!1)y&&2>c&&(u=e.apply(l,i));else{var n=new Ge;!p&&!y&&(s=n);var r=f-(n-s);0<r?p||(p=pt(o,r)):(at(p),p=m,s=n,u=e.apply(l,i))}return t!==f&&(h=pt(a,t)),u}}function Be(e){var t=Ct.call(arguments,1);return pt(function(){e.apply(d,t)},1)}function qe(e){return e}function Fe(e){ke(se(e),function(t){var n=te[t]=e[t];te.prototype[t]=function(){var e=this.__wrapped__,t=[e];return st.apply(t,arguments),t=n.apply(te,t),e&&"object"==typeof e&&e===t?this:new ne(t)}})}function Pe(){return this.__wrapped__}r=r?ee.defaults(e.Object(),r,ee.pick(e,L)):e;var ze=r.Array,Ve=r.Boolean,Ge=r.Date,Ye=r.Function,Ke=r.Math,Me=r.Number,Ue=r.Object,Xe=r.RegExp,Je=r.String,Qe=r.TypeError,Ze=[],et=Ue.prototype,tt=r._,nt=Xe("^"+Je(et.valueOf).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),rt=Ke.ceil,at=r.clearTimeout,ot=Ze.concat,it=Ke.floor,ut=Ye.prototype.toString,lt=nt.test(lt=Ue.getPrototypeOf)&&lt,ct=et.hasOwnProperty,st=Ze.push,ft=r.setImmediate,pt=r.setTimeout,ht=et.toString,dt=nt.test(dt=ht.bind)&&dt,vt=nt.test(vt=Ue.create)&&vt,mt=nt.test(mt=ze.isArray)&&mt,bt=r.isFinite,yt=r.isNaN,gt=nt.test(gt=Ue.keys)&&gt,_t=Ke.max,wt=Ke.min,xt=r.parseInt,kt=Ke.random,Ct=Ze.slice,Ke=nt.test(r.attachEvent),Ke=dt&&!/\n|true/.test(dt+Ke),jt={};jt[q]=ze,jt[F]=Ve,jt[P]=Ge,jt[z]=Ye,jt[G]=Ue,jt[V]=Me,jt[Y]=Xe,jt[K]=Je,ne.prototype=te.prototype;var Et=te.support={};Et.fastBind=dt&&!Ke,te.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:R,variable:"",imports:{_:te}};var It=mt,Dt=gt?function(e){return de(e)?gt(e):[]}:Z,Ht={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$t=fe(Ht),Ve=ie(function Tt(e,t,n){for(var r=-1,a=e?e.length:0,o=[];++r<a;){var i=e[r];n&&(i=n(i,r,e)),It(i)?st.apply(o,t?i:Tt(i)):o.push(i)}return o}),Rt=ie(function(e,r,a){var o=-1,u=oe(),c=e?e.length:0,p=[],h=!r&&c>=k&&u===t,d=a||h?l():p;if(h){var v=i(d);v?(u=n,d=v):(h=b,d=a?d:(s(d),p))}for(;++o<c;){var v=e[o],m=a?a(v,o,e):v;(r?!o||d[d.length-1]!==m:0>u(d,m))&&((a||h)&&d.push(m),p.push(v))}return h?(s(d.b),f(d)):a&&s(d),p});return Ke&&Q&&"function"==typeof ft&&(Be=We(ft,r)),ft=8==xt(S+"08")?xt:function(e,t){return xt(me(e)?e.replace(N,""):e,t||0)},te.after=function(e,t){return 1>e?t():function(){return 1>--e?t.apply(this,arguments):void 0}},te.assign=J,te.at=function(e){for(var t=-1,n=ot.apply(Ze,Ct.call(arguments,1)),r=n.length,a=ze(r);++t<r;)a[t]=e[n[t]];return a},te.bind=We,te.bindAll=function(e){for(var t=1<arguments.length?ot.apply(Ze,Ct.call(arguments,1)):se(e),n=-1,r=t.length;++n<r;){var a=t[n];e[a]=We(e[a],e)}return e},te.bindKey=function(e,t){return re(e,t,Ct.call(arguments,2),w)},te.compact=function(e){for(var t=-1,n=e?e.length:0,r=[];++t<n;){var a=e[t];a&&r.push(a)}return r},te.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length;n--;)t=[e[n].apply(this,t)];return t[0]}},te.countBy=function(e,t,n){var r={};return t=te.createCallback(t,n),ke(e,function(e,n,a){n=Je(t(e,n,a)),ct.call(r,n)?r[n]++:r[n]=1}),r},te.createCallback=function(e,t,n){if(e==m)return qe;var r=typeof e;if("function"!=r){if("object"!=r)return function(t){return t[e]};var a=Dt(e);return function(t){for(var n=a.length,r=b;n--&&(r=pe(t[a[n]],e[a[n]],w)););return r}}return"undefined"==typeof t||T&&!T.test(ut.call(e))?e:1===n?function(n){return e.call(t,n)}:2===n?function(n,r){return e.call(t,n,r)}:4===n?function(n,r,a,o){return e.call(t,n,r,a,o)}:function(n,r,a){return e.call(t,n,r,a)}},te.debounce=Le,te.defaults=X,te.defer=Be,te.delay=function(e,t){var n=Ct.call(arguments,2);return pt(function(){e.apply(d,n)},t)},te.difference=$e,te.filter=we,te.flatten=Ve,te.forEach=ke,te.forIn=C,te.forOwn=g,te.functions=se,te.groupBy=function(e,t,n){var r={};return t=te.createCallback(t,n),ke(e,function(e,n,a){n=Je(t(e,n,a)),(ct.call(r,n)?r[n]:r[n]=[]).push(e)}),r},te.initial=function(e,t,n){if(!e)return[];var r=0,a=e.length;if("number"!=typeof t&&t!=m){var o=a;for(t=te.createCallback(t,n);o--&&t(e[o],o,e);)r++}else r=t==m||n?1:t||r;return p(e,0,wt(_t(0,a-r),a))},te.intersection=function(e){for(var r=arguments,a=r.length,o=-1,u=l(),c=-1,p=oe(),h=e?e.length:0,d=[],v=l();++o<a;){var m=r[o];u[o]=p===t&&(m?m.length:0)>=k&&i(o?r[o]:v)}e:for(;++c<h;){var b=u[0],m=e[c];if(0>(b?n(b,m):p(v,m))){for(o=a,(b||v).push(m);--o;)if(b=u[o],0>(b?n(b,m):p(r[o],m)))continue e;d.push(m)}}for(;a--;)(b=u[a])&&f(b);return s(u),s(v),d},te.invert=fe,te.invoke=function(e,t){var n=Ct.call(arguments,2),r=-1,a="function"==typeof t,o=e?e.length:0,i=ze("number"==typeof o?o:0);return ke(e,function(e){i[++r]=(a?t:e[t]).apply(e,n)}),i},te.keys=Dt,te.map=Ce,te.max=je,te.memoize=function(e,t){function n(){var r=n.cache,a=x+(t?t.apply(this,arguments):arguments[0]);return ct.call(r,a)?r[a]:r[a]=e.apply(this,arguments)}return n.cache={},n},te.merge=be,te.min=function(e,t,n){var r=1/0,o=r;if(!t&&It(e)){n=-1;for(var i=e.length;++n<i;){var u=e[n];u<o&&(o=u)}}else t=!t&&me(e)?a:te.createCallback(t,n),ke(e,function(e,n,a){n=t(e,n,a),n<r&&(r=n,o=e)});return o},te.omit=function(e,t,n){var r=oe(),a="function"==typeof t,o={};if(a)t=te.createCallback(t,n);else var i=ot.apply(Ze,Ct.call(arguments,1));return C(e,function(e,n,u){(a?!t(e,n,u):0>r(i,n))&&(o[n]=e)}),o},te.once=function(e){var t,n;return function(){return t?n:(t=v,n=e.apply(this,arguments),e=m,n)}},te.pairs=function(e){for(var t=-1,n=Dt(e),r=n.length,a=ze(r);++t<r;){var o=n[t];a[t]=[o,e[o]]}return a},te.partial=function(e){return re(e,Ct.call(arguments,1))},te.partialRight=function(e){return re(e,Ct.call(arguments,1),m,w)},te.pick=function(e,t,n){var r={};if("function"!=typeof t)for(var a=-1,o=ot.apply(Ze,Ct.call(arguments,1)),i=de(e)?o.length:0;++a<i;){var u=o[a];u in e&&(r[u]=e[u])}else t=te.createCallback(t,n),C(e,function(e,n,a){t(e,n,a)&&(r[n]=e)});return r},te.pluck=Ee,te.range=function(e,t,n){e=+e||0,n=+n||1,t==m&&(t=e,e=0);var r=-1;t=_t(0,rt((t-e)/n));for(var a=ze(t);++r<t;)a[r]=e,e+=n;return a},te.reject=function(e,t,n){return t=te.createCallback(t,n),we(e,function(e,n,r){return!t(e,n,r)})},te.rest=Se,te.shuffle=function(e){var t=-1,n=e?e.length:0,r=ze("number"==typeof n?n:0);return ke(e,function(e){var n=it(kt()*(++t+1));r[t]=r[n],r[n]=e}),r},te.sortBy=function(e,t,n){var r=-1,a=e?e.length:0,i=ze("number"==typeof a?a:0);for(t=te.createCallback(t,n),ke(e,function(e,n,a){var o=i[++r]=c();o.l=t(e,n,a),o.m=r,o.n=e}),a=i.length,i.sort(o);a--;)e=i[a],i[a]=e.n,f(e);return i},te.tap=function(e,t){return t(e),e},te.throttle=function(e,t,n){var r=v,a=v;return n===!1?r=b:de(n)&&(r="leading"in n?n.leading:r,a="trailing"in n?n.trailing:a),n=c(),n.leading=r,n.maxWait=t,n.trailing=a,e=Le(e,t,n),f(n),e},te.times=function(e,t,n){e=-1<(e=+e)?e:0;var r=-1,a=ze(e);for(t=te.createCallback(t,n,1);++r<e;)a[r]=t(r);return a},te.toArray=function(e){return e&&"number"==typeof e.length?p(e):ye(e)},te.transform=function(e,t,n,r){var a=It(e);return t=te.createCallback(t,r,4),n==m&&(a?n=[]:(r=e&&e.constructor,n=de(r&&r.prototype)?vt(r&&r.prototype):{})),(a?ke:g)(e,function(e,r,a){return t(n,e,r,a)}),n},te.union=function(e){return It(e)||(arguments[0]=e?Ct.call(e):Ze),Rt(ot.apply(Ze,arguments))},te.uniq=Rt,te.unzip=Oe,te.values=ye,te.where=we,te.without=function(e){return $e(e,Ct.call(arguments,1))},te.wrap=function(e,t){return function(){var n=[e];return st.apply(n,arguments),t.apply(this,n)}},te.zip=function(e){return e?Oe(arguments):[]},te.zipObject=Ae,te.collect=Ce,te.drop=Se,te.each=ke,te.extend=J,te.methods=se,te.object=Ae,te.select=we,te.tail=Se,te.unique=Rt,Fe(te),te.chain=te,te.prototype.chain=function(){return this},te.clone=ce,te.cloneDeep=function(e,t,n){return ce(e,v,t,n)},te.contains=ge,te.escape=function(e){return e==m?"":Je(e).replace(A,ae)},te.every=_e,te.find=xe,te.findIndex=function(e,t,n){var r=-1,a=e?e.length:0;for(t=te.createCallback(t,n);++r<a;)if(t(e[r],r,e))return r;return-1},te.findKey=function(e,t,n){var r;return t=te.createCallback(t,n),g(e,function(e,n,a){return t(e,n,a)?(r=n,b):void 0}),r},te.has=function(e,t){return e?ct.call(e,t):b},te.identity=qe,te.indexOf=Te,te.isArguments=function(e){return ht.call(e)==B},te.isArray=It,te.isBoolean=function(e){return e===v||e===!1||ht.call(e)==F},te.isDate=function(e){return e?"object"==typeof e&&ht.call(e)==P:b},te.isElement=function(e){return e?1===e.nodeType:b},te.isEmpty=function(e){var t=v;if(!e)return t;var n=ht.call(e),r=e.length;return n==q||n==K||n==B||n==G&&"number"==typeof r&&he(e.splice)?!r:(g(e,function(){return t=b}),t)},te.isEqual=pe,te.isFinite=function(e){return bt(e)&&!yt(parseFloat(e))},te.isFunction=he,te.isNaN=function(e){return ve(e)&&e!=+e},te.isNull=function(e){return e===m},te.isNumber=ve,te.isObject=de,te.isPlainObject=y,te.isRegExp=function(e){return e?"object"==typeof e&&ht.call(e)==Y:b},te.isString=me,te.isUndefined=function(e){return"undefined"==typeof e},te.lastIndexOf=function(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?_t(0,r+n):wt(n,r-1))+1);r--;)if(e[r]===t)return r;return-1},te.mixin=Fe,te.noConflict=function(){return r._=tt,this},te.parseInt=ft,te.random=function(e,t){e==m&&t==m&&(t=1),e=+e||0,t==m?(t=e,e=0):t=+t||0;var n=kt();return e%1||t%1?e+wt(n*(t-e+parseFloat("1e-"+((n+"").length-1))),t):e+it(n*(t-e+1))},te.reduce=Ie,te.reduceRight=De,te.result=function(e,t){var n=e?e[t]:d;return he(n)?e[t]():n},te.runInContext=h,te.size=function(e){var t=e?e.length:0;return"number"==typeof t?t:Dt(e).length},te.some=He,te.sortedIndex=Ne,te.template=function(e,t,n){var r=te.templateSettings;e||(e=""),n=X({},n,r);var a,o=X({},n.imports,r.imports),r=Dt(o),o=ye(o),i=0,l=n.interpolate||O,c="__p+='",l=Xe((n.escape||O).source+"|"+l.source+"|"+(l===R?H:O).source+"|"+(n.evaluate||O).source+"|$","g");e.replace(l,function(t,n,r,o,l,s){return r||(r=o),c+=e.slice(i,s).replace(W,u),n&&(c+="'+__e("+n+")+'"),l&&(a=v,c+="';"+l+";__p+='"),r&&(c+="'+((__t=("+r+"))==null?'':__t)+'"),i=s+t.length,t}),c+="';\n",l=n=n.variable,l||(n="obj",c="with("+n+"){"+c+"}"),c=(a?c.replace(j,""):c).replace(E,"$1").replace(I,"$1;"),c="function("+n+"){"+(l?"":n+"||("+n+"={});")+"var __t,__p='',__e=_.escape"+(a?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}";try{var s=Ye(r,"return "+c).apply(d,o)}catch(f){throw f.source=c,f}return t?s(t):(s.source=c,s)},te.unescape=function(e){return e==m?"":Je(e).replace(D,le)},te.uniqueId=function(e){var t=++_;return Je(e==m?"":e)+t},te.all=_e,te.any=He,te.detect=xe,te.findWhere=xe,te.foldl=Ie,te.foldr=De,te.include=ge,te.inject=Ie,g(te,function(e,t){te.prototype[t]||(te.prototype[t]=function(){var t=[this.__wrapped__];return st.apply(t,arguments),e.apply(te,t)})}),te.first=Re,te.last=function(e,t,n){if(e){var r=0,a=e.length;if("number"!=typeof t&&t!=m){var o=a;for(t=te.createCallback(t,n);o--&&t(e[o],o,e);)r++}else if(r=t,r==m||n)return e[a-1];return p(e,_t(0,a-r))}},te.take=Re,te.head=Re,g(te,function(e,t){te.prototype[t]||(te.prototype[t]=function(t,n){var r=e(this.__wrapped__,t,n);return t==m||n&&"function"!=typeof t?r:new ne(r)})}),te.VERSION="1.3.1",te.prototype.toString=function(){return Je(this.__wrapped__)},te.prototype.value=Pe,te.prototype.valueOf=Pe,ke(["join","pop","shift"],function(e){var t=Ze[e];te.prototype[e]=function(){return t.apply(this.__wrapped__,arguments)}}),ke(["push","reverse","sort","unshift"],function(e){var t=Ze[e];te.prototype[e]=function(){return t.apply(this.__wrapped__,arguments),this}}),ke(["concat","slice","splice"],function(e){var t=Ze[e];te.prototype[e]=function(){return new ne(t.apply(this.__wrapped__,arguments))}}),te}var d,v=!0,m=null,b=!1,y=[],g=[],_=0,w={},x=+new Date+"",k=75,C=40,j=/\b__p\+='';/g,E=/\b(__p\+=)''\+/g,I=/(__e\(.*?\)|\b__t\))\+'';/g,D=/&(?:amp|lt|gt|quot|#39);/g,H=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,$=/\w*$/,R=/<%=([\s\S]+?)%>/g,T=(T=/\bthis\b/)&&T.test(h)&&T,S=" \t\x0B\f \ufeff\n\r\u2028\u2029 ᠎             　",N=RegExp("^["+S+"]*0+(?=.$)"),O=/($^)/,A=/[&<>"']/g,W=/['\n\r\t\u2028\u2029\\]/g,L="Array Boolean Date Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setImmediate setTimeout".split(" "),B="[object Arguments]",q="[object Array]",F="[object Boolean]",P="[object Date]",z="[object Function]",V="[object Number]",G="[object Object]",Y="[object RegExp]",K="[object String]",M={};M[z]=b,M[B]=M[q]=M[F]=M[P]=M[V]=M[G]=M[Y]=M[K]=v;var U={"boolean":b,"function":v,object:v,number:b,string:b,undefined:b},X={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},J=U[typeof exports]&&exports,Q=U[typeof module]&&module&&module.exports==J&&module,Z=U[typeof global]&&global;!Z||Z.global!==Z&&Z.window!==Z||(e=Z);var ee=h();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(e._=ee,define(function(){return ee})):J&&!J.nodeType?Q?(Q.exports=ee)._=ee:J._=ee:e._=ee}(this);